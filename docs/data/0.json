{
    "0": {
        "file_id": 0,
        "content": "/README.md",
        "type": "filepath"
    },
    "1": {
        "file_id": 0,
        "content": "VCED is a Python 3.9 video clip extraction tool with installation instructions, quickstart guide, and license under GNU General Public License v3.0, welcoming contributions via pull requests.",
        "type": "summary"
    },
    "2": {
        "file_id": 0,
        "content": "<h1 align=\"center\">\n\tVCED: Video Clip Extraction by description\n\t<br>\n</h1>\n<div align=\"center\">\n  <a href=\"https://www.python.org/downloads/\" target=\"_blank\"><img src=\"https://img.shields.io/badge/python-3.9.x-brightgreen.svg\" alt=\"Python supported\"></a>\n  <a href=\"https://linklearner.com/\"><img src=\"https://img.shields.io/website?url=https%3A%2F%2Flinklearner.com%2F%23%2F\" alt=\"DataWhale Website\"></a>\n  <h3 align=\"center\">\n    <a href=\"https://linklearner.com/\">Datawhale Website</a>\n    <br/>\n    <a href=\"https://linklearner.com/\">Docs</a>\n    <span> | </span>\n    <a href=\"https://github.com/datawhalechina/vced#%E5%8F%82%E4%B8%8E%E8%B4%A1%E7%8C%AE\">Contribute</a>\n  </h3>\n</div>\n----------------------------------------\nVCED å¯ä»¥é€šè¿‡ä½ çš„æ–‡å­—æè¿°æ¥è‡ªåŠ¨è¯†åˆ«è§†é¢‘ä¸­ç›¸ç¬¦åˆçš„ç‰‡æ®µè¿›è¡Œè§†é¢‘å‰ªè¾‘ã€‚è¯¥é¡¹ç›®åŸºäºè·¨æ¨¡æ€æœç´¢ä¸å‘é‡æ£€ç´¢æŠ€æœ¯æ­å»ºï¼Œé€šè¿‡å‰åç«¯åˆ†ç¦»çš„æ¨¡å¼ï¼Œå¸®åŠ©ä½ å¿«é€Ÿçš„æ¥è§¦æ–°ä¸€ä»£æœç´¢æŠ€æœ¯ã€‚\nå¦‚æœä½ å–œæ¬¢æœ¬é¡¹ç›®æ¬¢è¿ç»™ä¸€ä¸ª **â­ !**\n----------------------------------------\n[QuickStart](https://github.com/datawhalechina/vced#quickstart) - [é¡¹ç›®ç»“æ„](https://github.com/datawhalechina/vced#%E6%96%87%E6%A1%A3) - [æ–‡æ¡£](htt",
        "type": "code",
        "location": "/README.md:1-27"
    },
    "3": {
        "file_id": 0,
        "content": "\"README.md\": Introduction to VCED, a video clip extraction tool using description, supported by Python 3.9.x and linking to the DataWhale website, documentation, and contribution instructions.",
        "type": "comment"
    },
    "4": {
        "file_id": 0,
        "content": "ps://github.com/datawhalechina/vced#%E6%96%87%E6%A1%A3) - [Learning Roadmap](https://github.com/SuperSupeng/vced/blob/4387bbeaf7c66cf03532ef64617a8877481dad0d/Roadmap.md) - [åé¦ˆ](https://github.com/datawhalechina/vced#%E5%8F%8D%E9%A6%88) - [å‚ä¸è´¡çŒ®](https://github.com/datawhalechina/vced#%E5%8F%82%E4%B8%8E%E8%B4%A1%E7%8C%AE) - [å…³æ³¨æˆ‘ä»¬](https://github.com/datawhalechina/vced#%E5%85%B3%E6%B3%A8%E6%88%91%E4%BB%AC) - [License](https://github.com/datawhalechina/vced#license)\n----------------------------\n<h2 align=\"center\">\n   VCED demo\n   <br/>\n   <br/>\n  <img width=\"600\" src=\"./pics/demo.gif\" alt=\"VCED\">\t\n</h2>\n## QuickStart\n### é€šè¿‡ docker å¯åŠ¨\n[dockerå®‰è£…](./docker_install.md)\n``` bash\n# æ‹‰å–é¡¹ç›®\ncd ~\ngit clone https://github.com/kainstan/vced.git\n# è¿›å…¥é¡¹ç›®ç›®å½•\ncd ~/vced\n# é€šè¿‡shellè„šæœ¬å¯åŠ¨\n./startup.sh\n```\n### é€šè¿‡æºä»£ç å¯åŠ¨\n#### è¯´æ˜\næœ¬é¡¹ç›®ä¾èµ–ä»¥ä¸‹ç¯å¢ƒï¼Œåœ¨è¿›è¡Œå…·ä½“çš„å®‰è£…ä¹‹å‰è¯·ç¡®ä¿ä½ çš„ç”µè„‘å·²ç»å®‰è£…å¥½è¿™äº›ä¾èµ–\n1. åˆ›å»º python3.9 ç¯å¢ƒ\n2. å®‰è£… rust, ffmpeg\n3. å®‰è£… clip `pip install git+https://github.com/openai/CLIP.git`\nä¸‹é¢çš„Shellè„šæœ¬å·²åšç›¸åº”çš„æ“ä½œï¼Œä¸€é”®æ‰§è¡Œå³å¯ã€‚\n*Jina æš‚ä¸æ”¯æŒåœ¨ Windows å®‰è£…ï¼Œå¦‚éœ€åœ¨ Windows ä¸Šå®‰è£… Jina è¯·é€šè¿‡ WSL æ–¹å¼ï¼Œè¯¦æƒ…è§ï¼š[Jina è½»æ¾å­¦ â€”â€” Windowsä¸­å®‰è£…Jina](https://blog.csdn.net/Jina_AI/article/details/122820646)*",
        "type": "code",
        "location": "/README.md:27-66"
    },
    "5": {
        "file_id": 0,
        "content": "This code snippet provides the quickstart guide for VCED, a video captioning and editing demo. It shows how to start the project using either Docker or directly from the source code. It also mentions the dependencies required for installation like Python 3.9, Rust, FFmpeg, and CLIP. The code is written in Markdown format with instructions for different platforms.",
        "type": "comment"
    },
    "6": {
        "file_id": 0,
        "content": "#### Shellè„šæœ¬å®‰è£…ç¯å¢ƒ\n<img src=\"./pics/img_1.png\" alt=\"image-20221208224303047\" style=\"zoom:50%;\" />\n<img src=\"./pics/img.png\" alt=\"image-20221208224303047\"  />\n<font color=\"lightcoral\">*æ³¨æ„ï¼šå®‰è£…æœŸé—´å¯èƒ½éœ€è¦äººå·¥å¹²é¢„é€‰æ‹©å®‰è£…é€‰é¡¹æˆ–æ—¶åŒºç­‰ï¼ˆå¹¶ä¸æ˜¯æ¯ä¸ªå°ä¼™ä¼´éƒ½ä¼šå‡ºç°æ—¶åŒºé€‰æ‹©ï¼‰*</font>\n```\n# æ‹‰å–é¡¹ç›®\ncd ~\ngit clone https://github.com/kainstan/vced.git\n# è¿›å…¥é¡¹ç›®ç›®å½•\ncd ~/vced\n# é€šè¿‡shellè„šæœ¬å¯åŠ¨\n./startup.sh native\n```\n#### å¯åŠ¨ server\n```bash\n# è¿›å…¥ server æ–‡ä»¶å¤¹\ncd ~/vced/code/service\n# å¯åŠ¨æœåŠ¡ç«¯\npython app.py\n```\n#### å¯åŠ¨ web\nå‰ç«¯æˆ‘ä»¬é€šè¿‡ [Streamlit](https://streamlit.io/) æ­å»ºã€‚[Streamlit](https://streamlit.io/) æ˜¯ä¸€ä¸ª Python Web åº”ç”¨æ¡†æ¶ï¼Œä½†å’Œå¸¸è§„ Web æ¡†æ¶ï¼Œå¦‚ Flask/Django çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œå®ƒä¸éœ€è¦ä½ å»ç¼–å†™ä»»ä½•å®¢æˆ·ç«¯ä»£ç ï¼ˆHTML/CSS/JSï¼‰ï¼Œåªéœ€è¦ç¼–å†™æ™®é€šçš„ Python æ¨¡å—ï¼Œå°±å¯ä»¥åœ¨å¾ˆçŸ­çš„æ—¶é—´å†…åˆ›å»ºç¾è§‚å¹¶å…·å¤‡é«˜åº¦äº¤äº’æ€§çš„ç•Œé¢ã€‚\n```bash\n# è¿›å…¥ web æ–‡ä»¶å¤¹\ncd ~/vced/code/web\n# å¯åŠ¨æœåŠ¡ç«¯\nstreamlit run app.py\n```\nStreamlité»˜è®¤å¯åŠ¨çš„ç«¯å£ä¸º8501ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ `localhost:8501` è¿›è¡Œè®¿é—®\n## é¡¹ç›®ç»“æ„\n```\n    â”œâ”€â”€ code/service\n        â”œâ”€â”€ customClipImage (é€šè¿‡ CLIP æ¨¡å‹å¤„ç†ä¸Šä¼ çš„è§†é¢‘)\n        â”œâ”€â”€ customClipText  (é€šè¿‡ CLIP æ¨¡å‹å¤„ç†è¾“å…¥çš„æ–‡å­—)\n        â”œâ”€â”€ customIndexer   (åˆ›å»ºå‘é‡æ•°æ®çš„ç´¢å¼•)\n        â”œâ”€â”€ videoLoader     (å¯¹ä¸Šä¼ çš„è§†é¢‘è¿›è¡Œå¤„ç†)\n        â”œâ”€â”€ workspace       (ç”¨äºå­˜å‚¨ç”Ÿæˆçš„å‘é‡æ•°æ®)",
        "type": "code",
        "location": "/README.md:68-116"
    },
    "7": {
        "file_id": 0,
        "content": "Installation instructions for the VCEd project are provided, including steps to clone the repository, change to the project directory, and run the startup script. Server and web components are mentioned with specific commands to start them. A brief overview of Streamlit as a Python Web application framework is given. The project's structure is detailed, listing the main folders and components within the service and code directories.",
        "type": "comment"
    },
    "8": {
        "file_id": 0,
        "content": "        â”œâ”€â”€ app.py          (åç«¯ä¸»ç¨‹åº)                                                       \n    â”œâ”€â”€ code/web\n        â”œâ”€â”€ data            (ç”¨äºå­˜å‚¨ä¸Šä¼ çš„è§†é¢‘)\n        â”‚   â”œâ”€â”€ videos      (ç”¨äºå­˜å‚¨å‰ªè¾‘å¥½çš„è§†é¢‘ç‰‡æ®µ)\n        â”œâ”€â”€ app.py          (å‰ç«¯ä¸»ç¨‹åº)  \n\t  â”œâ”€â”€ Dockerfile                                                     \n    â”œâ”€â”€ requirements.txt  \n```\n## æ–‡æ¡£\nå¦‚æœä½ æƒ³åœ¨æœ¬åœ°æŸ¥é˜…æ–‡æ¡£å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®ç°\n1. å°†é¡¹ç›®ä¸‹è½½åˆ°æœ¬åœ°\n2. ç”¨æµè§ˆå™¨æ‰“å¼€ [docs/build/html/index.html](./docs/build/html/index.html)\nå¦‚æœä½ å¯¹æ–‡æ¡£å†…å®¹æœ‰ä¿®æ”¹æƒ³è¦æŸ¥çœ‹æœ€æ–°çš„å†…å®¹å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼\n```bash\n# è¿›å…¥ docs æ–‡ä»¶å¤¹\ncd docs\n# å®‰è£…ç›¸å…³ä¾èµ–\npip install -r requirements.txt\n# ç¼–è¯‘\nmake html\n```\nç„¶åå°±å¯ä»¥åœ¨`public`æ–‡ä»¶å¤¹ä¸‹åŒå‡»`index.html`å³å¯çœ‹åˆ°æ–‡æ¡£ï¼Œå¦‚ä¸‹æ‰€ç¤º\n![homepage](./pics/homepage.png)\n## Learning Roadmap\nå†…å®¹å­¦ä¹ è·¯çº¿è¯¦è§ï¼š[Roadmap](https://github.com/datawhalechina/vced/blob/main/Roadmap.md)\n## åé¦ˆ\n- å¦‚æœä½ å‘ç°ä»»ä½•é—®é¢˜ï¼Œè¯·æäº¤ [Issue](https://github.com/datawhalechina/vced/issues).\n## å‚ä¸è´¡çŒ®\n- å¦‚æœä½ æƒ³å‚ä¸åˆ°é¡¹ç›®ä¸­æ¥æ¬¢è¿æŸ¥çœ‹é¡¹ç›®çš„ [Issue](https://github.com/datawhalechina/vced/issues) æŸ¥çœ‹æ²¡æœ‰è¢«åˆ†é…çš„ä»»åŠ¡å¹¶æäº¤ PR\nå¦‚æœä½ å¯¹ Datawhale å¾ˆæ„Ÿå…´è¶£å¹¶æƒ³è¦å‘èµ·ä¸€ä¸ªæ–°çš„é¡¹ç›®ï¼Œæ¬¢è¿æŸ¥çœ‹ [Datawhale è´¡çŒ®æŒ‡å—](https://github.com/datawhalechina/DOPMC/blob/42a36137ca9a2310459fcaaf7012ac16e8c7039f/CONTRIBUTING.md)ã€‚",
        "type": "code",
        "location": "/README.md:117-159"
    },
    "9": {
        "file_id": 0,
        "content": "This code is a README file for the VCED project, which provides instructions on how to view the documentation and contribute to the project. The project includes a front-end and back-end program (app.py), a Dockerfile, and requirements.txt file. There is also a learning roadmap and an issue tracker for reporting problems or suggesting improvements. Contributions are welcome via pull requests.",
        "type": "comment"
    },
    "10": {
        "file_id": 0,
        "content": "### å½“å‰è´¡çŒ®è€…\n| å§“å | èŒè´£ | ç®€ä»‹ |\n| :----| :---- | :---- |\n| [è‹é¹](https://github.com/SuperSupeng) | é¡¹ç›®è´Ÿè´£äºº | [https://linktr.ee/subranium](https://linktr.ee/subranium) |\n| [åä¸€](https://github.com/sshimii) | Jina æ•™ç¨‹å†…å®¹è´¡çŒ®è€… | [Github]((https://github.com/sshimii)) |\n| [å¸­é¢–](https://github.com/xiying-boy) | Jina æ•™ç¨‹å†…å®¹è´¡çŒ®è€… | [Github](https://github.com/xiying-boy) |\n| [èŒƒè‡´è¿œ](https://github.com/Elvisambition) | è·¨æ¨¡æ€æ¨¡å‹æ•™ç¨‹å†…å®¹è´¡çŒ®è€… | [Github](https://github.com/Elvisambition) |\n| [å´”è…¾æ¾](https://github.com/2951121599) | é¡¹ç›®åç«¯æ•™ç¨‹å†…å®¹è´¡çŒ®è€… | [CSDN](https://blog.csdn.net/liluo_2951121599) |\n| [éŸ©é¢å ƒ](https://github.com/YikunHan42) |é¡¹ç›®åç«¯æ•™ç¨‹å†…å®¹è´¡çŒ®è€… | [Homepage](https://yikunhan.me/) |\n| [å´ç¥¥](https://github.com/zadarmo) | é¡¹ç›®å‰ç«¯æ•™ç¨‹å†…å®¹è´¡çŒ®è€… | [CSDN](https://blog.csdn.net/destiny_balabala) |\n| [è¾¹åœ£é™¶](https://github.com/Richard-Bian) | Docker éƒ¨ç½²æ•™ç¨‹å†…å®¹è´¡çŒ®è€… | [https://www.bianst.cn](https://www.bianst.cn) |\n<a href=\"https://github.com/datawhalechina/vced/graphs/contributors\">\n  <img src=\"https://contrib.rocks/image?repo=datawhalechina/vced\" />\n</a>\nMade with [contrib.rocks](https://contrib.rocks).",
        "type": "code",
        "location": "/README.md:161-178"
    },
    "11": {
        "file_id": 0,
        "content": "List of current contributors to the vced repository, their roles, and links to their profiles. Contributors graph included from contrib.rocks.",
        "type": "comment"
    },
    "12": {
        "file_id": 0,
        "content": "### ç‰¹åˆ«æ„Ÿè°¢\nç‰¹åˆ«æ„Ÿè°¢ä»¥ä¸‹é¡¹ç›®ä¸ä½œè€…ï¼Œå…¶ä¸­ B ç«™ UP ä¸»[äººå·¥æ™ºèƒ½å°é»„é¸­](https://space.bilibili.com/15516023)ç»™æœ¬é¡¹ç›®æä¾›äº†çµæ„Ÿï¼Œè€Œä¸”æœ¬é¡¹ç›®çš„åŸºç¡€ä»£ç æ¥è‡ªäº [ArthurKing01](https://github.com/ArthurKing01)ã€‚\n- [ArthurKing01/jina-clip](https://github.com/ArthurKing01/jina-clip)\n- [è¾“å…¥å…³é”®è¯å°±èƒ½è‡ªåŠ¨å‰ªè§†é¢‘ï¼Ÿæˆ‘å†™äº†ä¸€ä¸ªAIè§†é¢‘æœå‰ªç¥å™¨ï¼Ÿ](https://www.bilibili.com/video/BV1n3411u7tJ?vd_source=d3a0e6f272cb4afd9c79cf807eefb3a4)\n- [Jina AI](https://jina.ai/)\n- [Streamlit](https://streamlit.io/)\nå†æ¬¡æ„Ÿè°¢ä»¥ä¸Šé¡¹ç›®ä¸ä½œè€…ï¼ŒåŒæ—¶æ„Ÿè°¢ Jina AI å¯¹æœ¬é¡¹ç›®çš„æ”¯æŒï¼ŒJina AI æ˜¯ä¸€å®¶ç¥ç»æœç´¢å…¬å¸ï¼Œè‡´åŠ›äºå¸®åŠ©ä¼ä¸šå’Œå¼€å‘è€…è½»æ¾æ­å»ºå¤šæ¨¡æ€ã€è·¨æ¨¡æ€åº”ç”¨ã€‚\n## å…³æ³¨æˆ‘ä»¬\n<div align=center>\n<p>æ‰«æä¸‹æ–¹äºŒç»´ç å…³æ³¨å…¬ä¼—å·ï¼šDatawhale</p>\n<img src=\"https://raw.githubusercontent.com/datawhalechina/pumpkin-book/master/res/qrcode.jpeg\" width = \"180\" height = \"180\">\n</div>\n## License\nVCED is licensed under [GNU General Public License v3.0](https://github.com/datawhalechina/vced/blob/21f5f745665abcebbe1556238af8070d6e4f5c2e/LICENSE)",
        "type": "code",
        "location": "/README.md:180-198"
    },
    "13": {
        "file_id": 0,
        "content": "This code snippet thanks specific projects and contributors for their inspiration, code base, and support. It also includes information about the project's license under GNU General Public License v3.0 and invites followers on a public account called Datawhale.",
        "type": "comment"
    },
    "14": {
        "file_id": 1,
        "content": "/Roadmap.md",
        "type": "filepath"
    },
    "15": {
        "file_id": 1,
        "content": "Task 01-05 outline sequential steps to learn and practice various aspects of Jina ecosystem, multimodal learning with CLI models, Streamlit frontend, Executor basics, and custom function implementation. Task 06 encourages project expansion on day 12. Code block highlights three areas for improvement in VCED project: optimizing vector search, enhancing cross-modal model performance, and modifying to support multi-video segment searching.",
        "type": "summary"
    },
    "16": {
        "file_id": 1,
        "content": "# å­¦ä¹ è·¯çº¿\n## Task 01: è¯¾ç¨‹ç¯å¢ƒå‡†å¤‡\n### å­¦ä¹ å†…å®¹\n+ æ—¶é—´ï¼šDay 1\n+ ç›®æ ‡ï¼šå®Œæˆé¡¹ç›®ä¾èµ–çš„å®‰è£…ï¼Œå¯ä»¥åœ¨æœ¬åœ°æ‰“å¼€ HTML æ–‡æ¡£\n+ æ–‡æ¡£ï¼š[README.md](./README.md)\n## Task 02: Jina ç”Ÿæ€\n### å­¦ä¹ å†…å®¹\n+ æ—¶é—´ï¼šDay 2-3\n+ ç›®æ ‡ï¼šç†Ÿæ‚‰ Jina ç”Ÿæ€ä¸ç›¸å…³æ“ä½œ\n+ æ–‡æ¡£ï¼š[jina.md](./docs/source/user_guide/jina.md)\n### ç»ƒä¹ å†…å®¹\n+ æˆåŠŸå¯åŠ¨ grpc æœåŠ¡\n+ åœ¨ Jina çš„ Docarray ä¸­å¯¼å…¥ä»»æ„æ¨¡æ€çš„æ•°æ®\n+ ä»£ç ç»ƒä¹ ï¼šcode/jina_demo\n## Task 03: è·¨æ¨¡æ€æ¨¡å‹\n### å­¦ä¹ å†…å®¹\n+ æ—¶é—´ï¼šDay 4-5\n+ ç›®æ ‡ï¼šç†è§£å¤šæ¨¡æ€çš„é‡è¦æ€§ï¼Œåˆæ­¥äº†è§£ CLI æ¨¡å‹\n+ æ–‡æ¡£ï¼š[CLIP.md, Jina-Multimodal-Crossmodal.md](./docs//source/user_guide/CLIP)\n### ç»ƒä¹ å†…å®¹\n+ äº†è§£å…¶ä»–è·¨æ¨¡æ€æ¨¡å‹\n+ åœ¨ Document ä¸­å¯¼å‡ºå¤šæ¨¡æ€æ•°æ®ï¼Œç”Ÿæˆå¯¹åº” embedding\n## Task04: å‰ç«¯æ¨¡å—\n### å­¦ä¹ å†…å®¹\n+ æ—¶é—´ï¼šDay 6-7\n+ ç›®æ ‡ï¼šåˆæ­¥æŒæ¡ Streamlitï¼Œç†è§£é¡¹ç›®å‰ç«¯é€»è¾‘\n+ æ–‡æ¡£ï¼š[Frontend.mdï¼ŒStreamlit.md](./docs/source/user_guide/Frontend/)\n### ç»ƒä¹ å†…å®¹\n+ ä½¿ç”¨ Streamlit å°†ä»»æ„æ•°æ®ç§‘å­¦ç›¸å…³å†…å®¹éƒ¨ç½²åœ¨æœ¬åœ°\n## Task05: åç«¯æ¨¡å—\n### å­¦ä¹ å†…å®¹\n+ æ—¶é—´ï¼šDay 8-10\n+ ç›®æ ‡ï¼šç†Ÿæ‚‰ Executor çš„åŸºç¡€åŠŸèƒ½ï¼Œç†è§£é¡¹ç›®åç«¯é€»è¾‘\n+ æ–‡æ¡£ï¼š[VideoLoader.mdï¼ŒCustomClipText.mdï¼ŒCustomClipImage.mdï¼ŒSimpleIndexer.md](./docs/source/user_guide/Backend)\n### ç»ƒä¹ å†…å®¹\n+ å®ç°ä¸€ä¸ªä»»æ„åŠŸèƒ½çš„ executorï¼Œå®Œæˆå°è£…\n+ ä½¿ç”¨ Jina Hub ä¸­çš„ä»»æ„ executorï¼Œé€šè¿‡ flow çš„æ–¹å¼å¼•å…¥è‡ªå·±çš„é¡¹ç›®\n## Task06: é¡¹ç›®æ‹“å±•ç»ƒä¹ \n### å­¦ä¹ å†…å®¹\n+ æ—¶é—´ï¼šDay 12\n+ ç›®æ ‡ï¼šå®Œæˆé¡¹ç›®çš„æ‹“å±•åŠŸèƒ½\n### ç»ƒä¹ å†…å®¹\næœ¬é¡¹ç›®ä»…ä»…å®ç°äº†ä¸€äº›åŸºç¡€çš„åŠŸèƒ½ï¼Œè¿˜æœ‰è®¸å¤šå¯ä»¥å®Œå–„çš„åœ°æ–¹ï¼Œä¸‹é¢å°±ç®€å•çš„åˆ—ä¸€äº› ideas ä¾›ä½ å‚è€ƒï¼š",
        "type": "code",
        "location": "/Roadmap.md:1-72"
    },
    "17": {
        "file_id": 1,
        "content": "Task 01: Install project dependencies and open HTML documents locally.\nTask 02: Learn about Jina ecosystem and related operations. Practice by starting a gRPC server, importing data into Docarray, and coding with jina_demo.\nTask 03: Understand the importance of multimodal learning, and learn about CLI models. Practice by understanding other cross-modal models, exporting multi-modal data, and generating corresponding embeddings.\nTask 04: Learn Streamlit for frontend module development. Exercise by deploying any data science content locally with Streamlit.\nTask 05: Understand Executor basics and project backend logic. Practice by implementing any custom executor function and using Jina Hub to introduce the project through flow.\nTask 06: Expand the project, completing tasks on day 12.",
        "type": "comment"
    },
    "18": {
        "file_id": 1,
        "content": "1. ç›®å‰å‘é‡æ£€ç´¢ä½¿ç”¨çš„æ˜¯æœ€ç®€å•çš„æš´åŠ›æœç´¢ï¼Œæ‰€ä»¥å‘é‡æ£€ç´¢èŠ±è´¹çš„æ—¶é—´å¾ˆæ…¢ï¼Œè¿™é‡Œå¯ä»¥ä¼˜åŒ–\n2. ç›®å‰è·¨æ¨¡æ€æ¨¡å‹è¿™é‡Œä½¿ç”¨äº†æ¯”è¾ƒå¤§ä¼—çš„æ¨¡å‹ï¼Œæ–‡æœ¬ä¸è§†é¢‘çš„åŒ¹é…åº¦æœ‰å¾…æå‡\n3. ç›®å‰ VCED é¡¹ç›®ä»…èƒ½å¤Ÿå¤„ç†å¯¹å•ä¸ªè§†é¢‘çš„æ£€ç´¢ï¼Œéœ€è¦å¯¹é¡¹ç›®æ”¹é€ æ¥å®ç°å¯¹å¤šä¸ªè§†é¢‘ç‰‡æ®µçš„æ£€ç´¢ [Issue #32: èƒ½å¯¹å¤šæ®µè§†é¢‘è¿›è¡Œæœç´¢å—](https://github.com/datawhalechina/vced/issues/32)",
        "type": "code",
        "location": "/Roadmap.md:74-76"
    },
    "19": {
        "file_id": 1,
        "content": "This code block highlights three areas for improvement in the VCED project: optimizing vector search, enhancing cross-modal model performance, and modifying the project to support multi-video segment searching.",
        "type": "comment"
    },
    "20": {
        "file_id": 2,
        "content": "/code/Dockerfile",
        "type": "filepath"
    },
    "21": {
        "file_id": 2,
        "content": "The Dockerfile builds a container based on the richardbst/container4vced image, sets the working directory to /code, copies requirements.txt to the same location, configures global index URL for pip installations, installs required packages from requirements.txt and additional Git repository, copies entire project folder to the container, exposes port 8501, and runs the script command.sh as the CMD.",
        "type": "summary"
    },
    "22": {
        "file_id": 2,
        "content": "FROM richardbst/container4vced\nWORKDIR /code\nCOPY requirements.txt requirements.txt\nRUN pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple\nRUN pip install -r requirements.txt \\\n    && pip install git+https://github.com/openai/CLIP.git\nCOPY . .\nEXPOSE 8501\n# CMD [\"nohup\",\"streamlit\",\"run\",\"/code/web/app.py\",\"&\",\"&&\",\"python\",\"/code/service/app.py\"]\nCMD [\"sh\",\"command.sh\"]",
        "type": "code",
        "location": "/code/Dockerfile:3-12"
    },
    "23": {
        "file_id": 2,
        "content": "The Dockerfile builds a container based on the richardbst/container4vced image, sets the working directory to /code, copies requirements.txt to the same location, configures global index URL for pip installations, installs required packages from requirements.txt and additional Git repository, copies entire project folder to the container, exposes port 8501, and runs the script command.sh as the CMD.",
        "type": "comment"
    },
    "24": {
        "file_id": 3,
        "content": "/code/DockerfileArm",
        "type": "filepath"
    },
    "25": {
        "file_id": 3,
        "content": "This Dockerfile for ARM architecture uses the nil01/vced:v1.1.4 image and exposes ports 8501 and 45679, running the \"command.sh\" script as the command.",
        "type": "summary"
    },
    "26": {
        "file_id": 3,
        "content": "FROM nil01/vced:v1.1.4\nEXPOSE 8501\nEXPOSE 45679\nCMD [\"sh\",\"command.sh\"]",
        "type": "code",
        "location": "/code/DockerfileArm:1-5"
    },
    "27": {
        "file_id": 3,
        "content": "This Dockerfile for ARM architecture uses the nil01/vced:v1.1.4 image and exposes ports 8501 and 45679, running the \"command.sh\" script as the command.",
        "type": "comment"
    },
    "28": {
        "file_id": 4,
        "content": "/code/command.sh",
        "type": "filepath"
    },
    "29": {
        "file_id": 4,
        "content": "This code starts a Streamlit app using web/app.py, and runs service/app.py in the background with a timeout ready option.",
        "type": "summary"
    },
    "30": {
        "file_id": 4,
        "content": "# bin/bash\nnohup streamlit run web/app.py &\npython service/app.py --timeout-ready",
        "type": "code",
        "location": "/code/command.sh:1-3"
    },
    "31": {
        "file_id": 4,
        "content": "This code starts a Streamlit app using web/app.py, and runs service/app.py in the background with a timeout ready option.",
        "type": "comment"
    },
    "32": {
        "file_id": 5,
        "content": "/code/jina_demo/Executor.py",
        "type": "filepath"
    },
    "33": {
        "file_id": 5,
        "content": "This code defines a class `MyExecutor` that extends `Executor`, and includes two methods: `foo` and `bar`. These methods are decorated with `@requests`, allowing them to be accessed as HTTP endpoints. The `foo` method will print the keyword arguments (kwargs) passed, while `bar` on the endpoint '/index' also prints the kwargs.",
        "type": "summary"
    },
    "34": {
        "file_id": 5,
        "content": "# åœ¨ Executor ä¸­æˆ‘ä»¬å¯ä»¥å°†å…·ä½“çš„ä¸šåŠ¡é€»è¾‘è¿›è¡Œå°è£…å¾—åˆ°ä¸€ä¸ªæœåŠ¡\nfrom jina import Executor, requests\nclass MyExecutor(Executor):\n    @requests\n    def foo(self, **kwargs):\n        print(kwargs)\n    @requests(on='/index')\n    def bar(self, **kwargs):\n        print(kwargs)",
        "type": "code",
        "location": "/code/jina_demo/Executor.py:1-12"
    },
    "35": {
        "file_id": 5,
        "content": "This code defines a class `MyExecutor` that extends `Executor`, and includes two methods: `foo` and `bar`. These methods are decorated with `@requests`, allowing them to be accessed as HTTP endpoints. The `foo` method will print the keyword arguments (kwargs) passed, while `bar` on the endpoint '/index' also prints the kwargs.",
        "type": "comment"
    },
    "36": {
        "file_id": 6,
        "content": "/code/jina_demo/Flow.py",
        "type": "filepath"
    },
    "37": {
        "file_id": 6,
        "content": "This code defines a Flow in Jina, which is a coordinator for multiple tasks. It separates Executors and Flows using YAML to allow non-blocking and asynchronous data flow on the server. The FooExecutor and BarExecutor classes are defined within the code. The Executor classes have methods that take DocumentArray inputs, append a new document to the array, and return it. The Flow is created, then started with the `with f:` statement, and a POST request is sent to the flow's endpoint using the `f.post()` method. Finally, the response texts are printed.",
        "type": "summary"
    },
    "38": {
        "file_id": 6,
        "content": "# ä¸€ä¸ª Flow å¯ä»¥ç†è§£ä¸ºä¸€ç³»åˆ—ä»»åŠ¡çš„åè°ƒå™¨ï¼Œé€šè¿‡ add æ–¹æ³•å¯ä»¥å°†å¤šä¸ª Executor ä¸²æˆä¸€å¥—æ‰§è¡Œé€»è¾‘ã€‚\n# é€šè¿‡ YAML æ–¹å¼å°† Executor å’Œ Flow åˆ†å¼€æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š\n# - æœåŠ¡å™¨ä¸Šçš„æ•°æ®æµæ˜¯éé˜»å¡å’Œå¼‚æ­¥çš„ï¼Œå½“ Executor å¤„äºç©ºé—²çŠ¶æ€æ—¶ï¼Œä¼šç«‹å³å¤„ç†æ–°è¯·æ±‚ã€‚\n# - å¿…è¦æ—¶ä¼šè‡ªåŠ¨æ·»åŠ è´Ÿè½½å¹³è¡¡ï¼Œä»¥ç¡®ä¿æœ€å¤§ååé‡ã€‚\nfrom jina import Document, DocumentArray, Flow, Executor, requests\nclass FooExecutor(Executor):\n    @requests\n    def foo(self, docs: DocumentArray, **kwargs):\n        docs.append(Document(text='foo was here'))\nclass BarExecutor(Executor):\n    @requests\n    def bar(self, docs: DocumentArray, **kwargs):\n        docs.append(Document(text='bar was here'))\nf = (\n    Flow()\n    .add(uses=FooExecutor, name='fooExecutor')\n    .add(uses=BarExecutor, name='barExecutor')\n)  # åˆ›å»ºä¸€ä¸ªç©ºçš„ Flow\nwith f:  # å¯åŠ¨ Flow\n    response = f.post(\n        on='/'\n    )  # å‘ flow å‘é€ä¸€ä¸ªè¯·æ±‚\n    print(response.texts)",
        "type": "code",
        "location": "/code/jina_demo/Flow.py:1-30"
    },
    "39": {
        "file_id": 6,
        "content": "This code defines a Flow in Jina, which is a coordinator for multiple tasks. It separates Executors and Flows using YAML to allow non-blocking and asynchronous data flow on the server. The FooExecutor and BarExecutor classes are defined within the code. The Executor classes have methods that take DocumentArray inputs, append a new document to the array, and return it. The Flow is created, then started with the `with f:` statement, and a POST request is sent to the flow's endpoint using the `f.post()` method. Finally, the response texts are printed.",
        "type": "comment"
    },
    "40": {
        "file_id": 7,
        "content": "/code/jina_demo/client.py",
        "type": "filepath"
    },
    "41": {
        "file_id": 7,
        "content": "The code imports the Client and Document classes from Jina. It then creates a client instance with the host set to \"grpc://0.0.0.0:51000\". After that, it posts an empty document to the server at '/' path and prints the texts in the result. The result contains three strings: '', 'foo was here', and 'bar was here'.",
        "type": "summary"
    },
    "42": {
        "file_id": 7,
        "content": "# ä» Jina ä¸­å¯¼å…¥è¿æ¥çš„å®¢æˆ·ç«¯ä¸ Document\nfrom jina import Client, Document\nc = Client(host='grpc://0.0.0.0:51000')  # å¦‚æœè¿è¡Œæç¤ºå¤±è´¥ï¼Œå¯å°è¯•ä½¿ç”¨localhost\nresult = c.post('/', Document())  # å°†ä¸€ä¸ªç©ºçš„ Document ä¼ åˆ°æœåŠ¡ç«¯æ‰§è¡Œ\nprint(result.texts)  # ['', 'foo was here', 'bar was here']",
        "type": "code",
        "location": "/code/jina_demo/client.py:1-6"
    },
    "43": {
        "file_id": 7,
        "content": "The code imports the Client and Document classes from Jina. It then creates a client instance with the host set to \"grpc://0.0.0.0:51000\". After that, it posts an empty document to the server at '/' path and prints the texts in the result. The result contains three strings: '', 'foo was here', and 'bar was here'.",
        "type": "comment"
    },
    "44": {
        "file_id": 8,
        "content": "/code/jina_demo/image/7.1 è¯»å–å›¾ç‰‡å¹¶è½¬ä¸º tensor.py",
        "type": "filepath"
    },
    "45": {
        "file_id": 8,
        "content": "This code imports the Document class from Jina and initializes an instance of it with the URI 'apple.png'. The load_uri_to_image_tensor() method is then called to convert the image into a tensor, which is subsequently printed along with its shape. The output shows the tensor shape as (618, 641, 3) and the tensor data itself.",
        "type": "summary"
    },
    "46": {
        "file_id": 8,
        "content": "from jina import Document\nd = Document(uri='apple.png')\nd.load_uri_to_image_tensor()\nprint(d.tensor.shape)  # (618, 641, 3)\nprint(d.tensor)",
        "type": "code",
        "location": "/code/jina_demo/image/7.1 è¯»å–å›¾ç‰‡å¹¶è½¬ä¸º tensor.py:1-7"
    },
    "47": {
        "file_id": 8,
        "content": "This code imports the Document class from Jina and initializes an instance of it with the URI 'apple.png'. The load_uri_to_image_tensor() method is then called to convert the image into a tensor, which is subsequently printed along with its shape. The output shows the tensor shape as (618, 641, 3) and the tensor data itself.",
        "type": "comment"
    },
    "48": {
        "file_id": 9,
        "content": "/code/jina_demo/image/7.2 è¿›è¡Œç®€å•çš„å›¾åƒå¤„ç†.py",
        "type": "filepath"
    },
    "49": {
        "file_id": 9,
        "content": "This code loads an image from 'apple.png', preprocesses it by setting shape, normalizing, and changing the channel axis. It prints the tensor shape and the tensor itself. Then, it saves the processed tensor as 'apple-proc.png' after specifying that the channel_axis should be set to 0 due to previous preprocessing steps. The final image may lose information compared to the original.",
        "type": "summary"
    },
    "50": {
        "file_id": 9,
        "content": "from jina import Document\nd = (\n    Document(uri='apple.png')\n    .load_uri_to_image_tensor()\n    .set_image_tensor_shape(shape=(224, 224))  # è®¾ç½®shape\n    .set_image_tensor_normalization()  # æ ‡å‡†åŒ–\n    .set_image_tensor_channel_axis(-1, 0)  # æ›´æ”¹é€šé“\n)\nprint(d.tensor.shape)  # (3, 224, 224)\nprint(d.tensor)\n# ä½ å¯ä»¥ä½¿ç”¨ save_image_tensor_to_file å°† tensor è½¬ä¸ºå›¾åƒã€‚å½“ç„¶ï¼Œå› ä¸ºåšäº†é¢„å¤„ç†ï¼Œå›¾ç‰‡è¿”å›æ—¶æŸå¤±äº†å¾ˆå¤šä¿¡æ¯ã€‚\nd.save_image_tensor_to_file('apple-proc.png', channel_axis=0)  # å› ä¸ºå‰é¢è¿›è¡Œäº†é¢„å¤„ç†ï¼Œchannel_axisåº”è¯¥è®¾ä¸º0",
        "type": "code",
        "location": "/code/jina_demo/image/7.2 è¿›è¡Œç®€å•çš„å›¾åƒå¤„ç†.py:1-15"
    },
    "51": {
        "file_id": 9,
        "content": "This code loads an image from 'apple.png', preprocesses it by setting shape, normalizing, and changing the channel axis. It prints the tensor shape and the tensor itself. Then, it saves the processed tensor as 'apple-proc.png' after specifying that the channel_axis should be set to 0 due to previous preprocessing steps. The final image may lose information compared to the original.",
        "type": "comment"
    },
    "52": {
        "file_id": 10,
        "content": "/code/jina_demo/image/7.3 è¯»å–å›¾åƒé›†.py",
        "type": "filepath"
    },
    "53": {
        "file_id": 10,
        "content": "Code imports the `DocumentArray` class from Jina library and initializes a new instance by reading all .jpg files from the 'Downloads' directory. Then, it plots all images in the DocumentArray as sprites into a single image file named 'sprite-img.png'.",
        "type": "summary"
    },
    "54": {
        "file_id": 10,
        "content": "from jina import DocumentArray\nda = DocumentArray.from_files('Downloads/*.jpg')  # ä»Downloadsæ–‡ä»¶å¤¹ä¸­è¯»å–æ‰€æœ‰çš„jpgæ–‡ä»¶ï¼Œåœ¨è¿™é‡Œä½ åº”è¯¥æ ¹æ®è‡ªå·±çš„è·¯å¾„è®¾ç½®\nda.plot_image_sprites('sprite-img.png')  # ä½¿ç”¨ plot_image_sprites ç»˜åˆ¶å›¾ç‰‡é›†å›¾ç‰‡ï¼Œå¦‚ä¸‹å›¾",
        "type": "code",
        "location": "/code/jina_demo/image/7.3 è¯»å–å›¾åƒé›†.py:1-4"
    },
    "55": {
        "file_id": 10,
        "content": "Code imports the `DocumentArray` class from Jina library and initializes a new instance by reading all .jpg files from the 'Downloads' directory. Then, it plots all images in the DocumentArray as sprites into a single image file named 'sprite-img.png'.",
        "type": "comment"
    },
    "56": {
        "file_id": 11,
        "content": "/code/jina_demo/image/7.4 åˆ‡å‰²å¤§å‹å›¾åƒ.py",
        "type": "filepath"
    },
    "57": {
        "file_id": 11,
        "content": "This code uses the Jina library to load an image, convert it into a tensor, and then splits the image into smaller chunks using sliding windows. It allows for optional conversion of these chunks back into a Document block and visualization as a sprite-like image collection. Strides can be adjusted for oversampling or downsampling purposes.",
        "type": "summary"
    },
    "58": {
        "file_id": 11,
        "content": "from jina import Document\nd = Document(uri='complicated-image.jpeg')\nd.load_uri_to_image_tensor()\nprint(d.tensor.shape)  # (792, 1000, 3)\nd.convert_image_tensor_to_sliding_windows(window_shape=(64, 64))  # ä½¿ç”¨ 64*64 çš„æ»‘çª—åˆ‡å‰²åŸå›¾åƒï¼Œåˆ‡åˆ†å‡º 13*16=208 ä¸ªå›¾åƒå¼ é‡\nprint(d.tensor.shape)  # (208, 64, 64, 3)\n# å¯ä»¥é€šè¿‡ as_chunks=Trueï¼Œä½¿å¾—ä¸Šè¿° 208 å¼ å›¾ç‰‡å¼ é‡æ·»åŠ åˆ° Document å—ä¸­ã€‚\n# PSï¼šè¿è¡Œè¿™è¡Œä»£ç æ—¶ï¼Œéœ€è¦é‡æ–° load image tensorï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚\nd = Document(uri='complicated-image.jpeg')\nd.load_uri_to_image_tensor()\nd.convert_image_tensor_to_sliding_windows(window_shape=(64, 64), as_chunks=True)\nprint(d.chunks)\nd.chunks.plot_image_sprites('simpsons-chunks.png')  # ä½¿ç”¨ plot_image_sprites å°†å„ä¸ª chunk ç»˜åˆ¶æˆå›¾ç‰‡é›†å›¾ç‰‡\n# å› ä¸ºé‡‡ç”¨äº†æ»‘åŠ¨çª—å£æ‰«ææ•´ä¸ªå›¾åƒï¼Œä½¿ç”¨äº†é»˜è®¤çš„ strideï¼Œåˆ‡åˆ†åçš„å›¾åƒä¸ä¼šæœ‰é‡å ï¼Œæ‰€ä»¥é‡æ–°ç»˜åˆ¶å‡ºçš„å›¾å’ŒåŸå›¾å·®åˆ«ä¸å¤§ã€‚\n# ä½ ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½® strides å‚æ•°è¿›è¡Œè¿‡é‡‡æ ·ã€‚\nd.convert_image_tensor_to_sliding_windows(window_shape=(64, 64), strides=(10, 10), as_chunks=True)\nd.chunks.plot_image_sprites('simpsons-chunks-stride-10.png')",
        "type": "code",
        "location": "/code/jina_demo/image/7.4 åˆ‡å‰²å¤§å‹å›¾åƒ.py:1-22"
    },
    "59": {
        "file_id": 11,
        "content": "This code uses the Jina library to load an image, convert it into a tensor, and then splits the image into smaller chunks using sliding windows. It allows for optional conversion of these chunks back into a Document block and visualization as a sprite-like image collection. Strides can be adjusted for oversampling or downsampling purposes.",
        "type": "comment"
    },
    "60": {
        "file_id": 12,
        "content": "/code/jina_demo/test.py",
        "type": "filepath"
    },
    "61": {
        "file_id": 12,
        "content": "Code creates two executor classes (FooExecutor and BarExecutor) that extend the Executor class from Jina, implementing functions `foo` and `bar`. The functions receive a DocumentArray and append \"foo was here\" or \"bar was here\" to the content. The `@requests` decorator is used for routing purposes.",
        "type": "summary"
    },
    "62": {
        "file_id": 12,
        "content": "# åˆ›å»º test.py æ–‡ä»¶ä¸ YAML æ–‡ä»¶åœ¨åŒä¸€ç›®å½•ä¸‹\n# å¯¼å…¥ documentã€executor å’Œ flow ä»¥åŠ requests è£…é¥°å™¨\nfrom jina import DocumentArray, Executor, requests, Document\n# ç¼–å†™ FooExecutor ä¸ BarExecutor ç±»ï¼Œç±»ä¸­å®šä¹‰äº†å‡½æ•° foo å’Œ bar\n# è¯¥å‡½æ•°ä»ç½‘ç»œè¯·æ±‚æ¥æ”¶ DocumentArray (å…ˆæš‚æ—¶ä¸éœ€è¦ç†è§£å®ƒæ˜¯ä»€ä¹ˆ)ï¼Œå¹¶åœ¨å…¶å†…å®¹åé¢é™„åŠ  \"foo was here\" ä¸ \"bar was here\"\nclass FooExecutor(Executor):\n    @requests  # ç”¨äºæŒ‡å®šè·¯ç”±ï¼Œç±»ä¼¼ç½‘é¡µè®¿é—® /index å’Œ /login ä¼šè¢«è·¯ç”±åˆ°ä¸åŒçš„æ–¹æ³•ä¸Šæ˜¯ç”¨æ ·çš„æ¦‚å¿µï¼Œå…³äº request ä¸‹é¢ä¼šå†è¿›è¡Œè¯¦ç»†ä»‹ç»\n    def foo(self, docs: DocumentArray, **kwargs):\n        docs.append(Document(text='foo was here'))\nclass BarExecutor(Executor):\n    @requests\n    def bar(self, docs: DocumentArray, **kwargs):\n        docs.append(Document(text='bar was here'))",
        "type": "code",
        "location": "/code/jina_demo/test.py:1-17"
    },
    "63": {
        "file_id": 12,
        "content": "Code creates two executor classes (FooExecutor and BarExecutor) that extend the Executor class from Jina, implementing functions `foo` and `bar`. The functions receive a DocumentArray and append \"foo was here\" or \"bar was here\" to the content. The `@requests` decorator is used for routing purposes.",
        "type": "comment"
    },
    "64": {
        "file_id": 13,
        "content": "/code/jina_demo/text/6.1 åˆ›å»ºæ–‡æœ¬.py",
        "type": "filepath"
    },
    "65": {
        "file_id": 13,
        "content": "This code imports the Document class from Jina and demonstrates how to create a document object with text data. It also shows how to load text from a URI and supports multiple languages.",
        "type": "summary"
    },
    "66": {
        "file_id": 13,
        "content": "from jina import Document  # å¯¼åŒ…\n# åˆ›å»ºç®€å•çš„æ–‡æœ¬æ•°æ®\nd = Document(text='hello, world.')\nprint(d.text)  # é€šè¿‡textè·å–æ–‡æœ¬æ•°æ®\n# å¦‚æœæ–‡æœ¬æ•°æ®å¾ˆå¤§ï¼Œæˆ–è€…è‡ªURIï¼Œå¯ä»¥å…ˆå®šä¹‰URIï¼Œç„¶åå°†æ–‡æœ¬åŠ è½½åˆ°æ–‡æ¡£ä¸­\nd = Document(uri='https://www.w3.org/History/19921103-hypertext/hypertext/README.html')\nd.load_uri_to_text()\nprint(d.text)\n# æ”¯æŒå¤šè¯­è¨€\nd = Document(text='ğŸ‘‹\tà¤¨à¤®à¤¸à¥à¤¤à¥‡ à¤¦à¥à¤¨à¤¿à¤¯à¤¾!\tä½ å¥½ä¸–ç•Œï¼ã“ã‚“ã«ã¡ã¯ä¸–ç•Œï¼\tĞŸÑ€Ğ¸Ğ²ĞµÑ‚ Ğ¼Ğ¸Ñ€!')\nprint(d.text)",
        "type": "code",
        "location": "/code/jina_demo/text/6.1 åˆ›å»ºæ–‡æœ¬.py:1-12"
    },
    "67": {
        "file_id": 13,
        "content": "This code imports the Document class from Jina and demonstrates how to create a document object with text data. It also shows how to load text from a URI and supports multiple languages.",
        "type": "comment"
    },
    "68": {
        "file_id": 14,
        "content": "/code/jina_demo/text/6.2 åˆ‡å‰²æ–‡æœ¬.py",
        "type": "filepath"
    },
    "69": {
        "file_id": 14,
        "content": "This code imports the Document class from Jina and creates a document with text containing various greetings separated by '!'. It then splits the text at each exclamation mark, creating new documents for each chunk. Finally, it prints out a summary of all created documents.",
        "type": "summary"
    },
    "70": {
        "file_id": 14,
        "content": "from jina import Document  # å¯¼åŒ…\nd = Document(text='ğŸ‘‹\tà¤¨à¤®à¤¸à¥à¤¤à¥‡ à¤¦à¥à¤¨à¤¿à¤¯à¤¾!\tä½ å¥½ä¸–ç•Œï¼ã“ã‚“ã«ã¡ã¯ä¸–ç•Œï¼\tĞŸÑ€Ğ¸Ğ²ĞµÑ‚ Ğ¼Ğ¸Ñ€!')\nd.chunks.extend([Document(text=c) for c in d.text.split('!')])  # æŒ‰'!'åˆ†å‰²\nd.summary()",
        "type": "code",
        "location": "/code/jina_demo/text/6.2 åˆ‡å‰²æ–‡æœ¬.py:1-5"
    },
    "71": {
        "file_id": 14,
        "content": "This code imports the Document class from Jina and creates a document with text containing various greetings separated by '!'. It then splits the text at each exclamation mark, creating new documents for each chunk. Finally, it prints out a summary of all created documents.",
        "type": "comment"
    },
    "72": {
        "file_id": 15,
        "content": "/code/jina_demo/text/6.3 textã€ndarray äº’è½¬.py",
        "type": "filepath"
    },
    "73": {
        "file_id": 15,
        "content": "This code demonstrates how to convert text to ndarrays and vice versa using the Jina library. It uses the DocumentArray class as a list of Documents, converts texts to tensors using get_vocabulary() function, and then converts tensor vectors back to texts using the same vocabulary.",
        "type": "summary"
    },
    "74": {
        "file_id": 15,
        "content": "from jina import DocumentArray, Document  # å¯¼åŒ…\n# DocumentArray ç›¸å½“äºä¸€ä¸ª listï¼Œç”¨äºå­˜æ”¾ Document\nda = DocumentArray([Document(text='hello world'),\n                    Document(text='goodbye world'),\n                    Document(text='hello goodbye')])\nprint(da)  # <DocumentArray (length=3) at 140545164218128>\nvocab = da.get_vocabulary()\nprint(vocab)  # {'hello': 2, 'world': 3, 'goodbye': 4}\n# textè½¬ä¸ºtensorå‘é‡\nfor d in da:\n    d.convert_text_to_tensor(vocab, max_length=10)  # max_lengthä¸ºå‘é‡æœ€å¤§å€¼ï¼Œå¯ä¸è®¾ç½®\n    print(d.tensor)\n# è¾“å‡ºç»“æœï¼š\n# [0 0 0 0 0 0 0 0 2 3]  # ç”¨è¿™ç§æ–¹å¼ç®€å•å°†å­—ç¬¦ä¸²è½¬ä¸ºå‘é‡\n# [0 0 0 0 0 0 0 0 4 3]\n# [0 0 0 0 0 0 0 0 2 4]\n# tensorå‘é‡è½¬ä¸ºtext\nfor d in da:\n    d.convert_tensor_to_text(vocab)\n    print(d.text)\n# è¾“å‡ºç»“æœï¼š\n# hello world\n# goodbye world\n# hello goodbye",
        "type": "code",
        "location": "/code/jina_demo/text/6.3 textã€ndarray äº’è½¬.py:1-30"
    },
    "75": {
        "file_id": 15,
        "content": "This code demonstrates how to convert text to ndarrays and vice versa using the Jina library. It uses the DocumentArray class as a list of Documents, converts texts to tensors using get_vocabulary() function, and then converts tensor vectors back to texts using the same vocabulary.",
        "type": "comment"
    },
    "76": {
        "file_id": 16,
        "content": "/code/jina_demo/text/6.4 Demo: ç®€å•çš„æ–‡æœ¬åŒ¹é….py",
        "type": "filepath"
    },
    "77": {
        "file_id": 16,
        "content": "This code loads the text from a URL into a Document object, splits it by newline characters, applies hashing for feature embedding, and then performs a search with Jaccard metric to find the top 5 most similar sentences in the DocumentArray. The results are printed as matching sentences and their corresponding Jaccard scores.",
        "type": "summary"
    },
    "78": {
        "file_id": 16,
        "content": "from jina import Document, DocumentArray\nd = Document(\n    uri='https://www.gutenberg.org/files/1342/1342-0.txt').load_uri_to_text()  # é“¾æ¥æ˜¯å‚²æ…¢ä¸åè§çš„ç”µå­ä¹¦ï¼Œæ­¤å¤„å°†ç”µå­ä¹¦å†…å®¹åŠ è½½åˆ° Document ä¸­\nda = DocumentArray(Document(text=s.strip()) for s in d.text.split('\\n') if s.strip())  # æŒ‰ç…§æ¢è¡Œè¿›è¡Œåˆ†å‰²å­—ç¬¦ä¸²\nda.apply(lambda d: d.embed_feature_hashing())\nq = (\n    Document(text='she entered the room')  # è¦åŒ¹é…çš„æ–‡æœ¬\n    .embed_feature_hashing()  # é€šè¿‡ hash æ–¹æ³•è¿›è¡Œç‰¹å¾ç¼–ç \n    .match(da, limit=5, exclude_self=True, metric='jaccard', use_scipy=True)  # æ‰¾åˆ°äº”ä¸ªä¸è¾“å…¥çš„æ–‡æœ¬æœ€ç›¸ä¼¼çš„å¥å­\n)\nprint(q.matches[:, ('text', 'scores__jaccard')])  # è¾“å‡ºå¯¹åº”çš„æ–‡æœ¬ä¸ jaccard ç›¸ä¼¼æ€§åˆ†æ•°\n# è¾“å‡ºç»“æœï¼š\n# [['staircase, than she entered the breakfast-room, and congratulated', 'of the room.',\n#   'She entered the room with an air more than usually ungracious,',\n#   'entered the breakfast-room, where Mrs. Bennet was alone, than she', 'those in the room.'],\n#  [{'value': 0.6}, {'value': 0.6666666666666666}, {'value': 0.6666666666666666}, {'value': 0.6666666666666666},\n#   {'value': 0.7142857142857143}]]",
        "type": "code",
        "location": "/code/jina_demo/text/6.4 Demo: ç®€å•çš„æ–‡æœ¬åŒ¹é….py:1-21"
    },
    "79": {
        "file_id": 16,
        "content": "This code loads the text from a URL into a Document object, splits it by newline characters, applies hashing for feature embedding, and then performs a search with Jaccard metric to find the top 5 most similar sentences in the DocumentArray. The results are printed as matching sentences and their corresponding Jaccard scores.",
        "type": "comment"
    },
    "80": {
        "file_id": 17,
        "content": "/code/jina_demo/toy.yml",
        "type": "filepath"
    },
    "81": {
        "file_id": 17,
        "content": "This YAML file specifies a Jina Flow with two executors, FooExecutor and BarExecutor, both using test.py module and running on port 51000 over GRPC protocol.",
        "type": "summary"
    },
    "82": {
        "file_id": 17,
        "content": "# toy.yml\n# è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ grpc æœåŠ¡ï¼š\n# jina flow --uses toy.ymlâ‰ˆâ‰ˆ\njtype: Flow\nwith:\n  port: 51000\n  protocol: grpc\nexecutors:\n  - uses: FooExecutor\n    name: foo\n    py_modules:\n      - test.py\n  - uses: BarExecutor\n    name: bar\n    py_modules:\n      - test.py",
        "type": "code",
        "location": "/code/jina_demo/toy.yml:1-16"
    },
    "83": {
        "file_id": 17,
        "content": "This YAML file specifies a Jina Flow with two executors, FooExecutor and BarExecutor, both using test.py module and running on port 51000 over GRPC protocol.",
        "type": "comment"
    },
    "84": {
        "file_id": 18,
        "content": "/code/jina_demo/video/8.1 è§†é¢‘å¯¼å…¥å’Œåˆ‡åˆ†.py",
        "type": "filepath"
    },
    "85": {
        "file_id": 18,
        "content": "This code imports and splits a video file using the AV package. It creates a Jina Document object, loads the video into a 4D tensor (time x height x width x channels), then appends each frame as individual Documents to a chunks list. Finally, it generates an image sprites plot from the frames.",
        "type": "summary"
    },
    "86": {
        "file_id": 18,
        "content": "# è§†é¢‘éœ€è¦ä¾èµ– av åŒ…\n# pip install av\nfrom jina import Document\nd = Document(uri='cat.mp4')\nd.load_uri_to_video_tensor()\n# ç›¸è¾ƒäºå›¾åƒï¼Œè§†é¢‘æ˜¯ä¸€ä¸ª 4 ç»´æ•°ç»„ï¼Œç¬¬ä¸€ç»´è¡¨ç¤ºè§†é¢‘å¸§ id æˆ–æ˜¯è§†é¢‘çš„æ—¶é—´ï¼Œå‰©ä¸‹çš„ä¸‰ç»´åˆ™å’Œå›¾åƒä¸€è‡´ã€‚\nprint(d.tensor.shape)  # (31, 1080, 1920, 3)\n# ä½¿ç”¨ append æ–¹æ³•å°† Document æ”¾å…¥ chunk ä¸­\nfor b in d.tensor:\n    d.chunks.append(Document(tensor=b))\nd.chunks.plot_image_sprites('mov.png')",
        "type": "code",
        "location": "/code/jina_demo/video/8.1 è§†é¢‘å¯¼å…¥å’Œåˆ‡åˆ†.py:1-15"
    },
    "87": {
        "file_id": 18,
        "content": "This code imports and splits a video file using the AV package. It creates a Jina Document object, loads the video into a 4D tensor (time x height x width x channels), then appends each frame as individual Documents to a chunks list. Finally, it generates an image sprites plot from the frames.",
        "type": "comment"
    },
    "88": {
        "file_id": 19,
        "content": "/code/jina_demo/video/8.2 å…³é”®å¸§æå–.py",
        "type": "filepath"
    },
    "89": {
        "file_id": 19,
        "content": "This code imports the Document class from the docarray library, creates a new Document object with a URI pointing to 'cat.mp4', and then uses the load_uri_to_video_tensor method to extract keyframes only. Finally, it prints the shape of the resulting tensor, which has dimensions (2, 1080, 1920, 3).",
        "type": "summary"
    },
    "90": {
        "file_id": 19,
        "content": "from docarray import Document\nd = Document(uri='cat.mp4')\n# å¯ä»¥ä½¿ç”¨ only_keyframes è¿™ä¸ªå‚æ•°æ¥æå–å…³é”®å¸§\nd.load_uri_to_video_tensor(only_keyframes=True)\nprint(d.tensor.shape)  # (2, 1080, 1920, 3)",
        "type": "code",
        "location": "/code/jina_demo/video/8.2 å…³é”®å¸§æå–.py:1-6"
    },
    "91": {
        "file_id": 19,
        "content": "This code imports the Document class from the docarray library, creates a new Document object with a URI pointing to 'cat.mp4', and then uses the load_uri_to_video_tensor method to extract keyframes only. Finally, it prints the shape of the resulting tensor, which has dimensions (2, 1080, 1920, 3).",
        "type": "comment"
    },
    "92": {
        "file_id": 20,
        "content": "/code/jina_demo/video/8.3 å¼ é‡è½¬å­˜ä¸ºè§†é¢‘.py",
        "type": "filepath"
    },
    "93": {
        "file_id": 20,
        "content": "This code utilizes the `save_video_tensor_to_file` function from the `Document` class in the `docarray` library to save a video tensor to a file. It first loads the URI of the video 'cat.mp4' into a video tensor, and then saves it as '60fps.mp4', converting it to 60 frames per second.",
        "type": "summary"
    },
    "94": {
        "file_id": 20,
        "content": "# ä½¿ç”¨ save_video_tensor_to_file è¿›è¡Œè§†é¢‘çš„ä¿å­˜\nfrom docarray import Document\nd = (\n    Document(uri='cat.mp4')\n    .load_uri_to_video_tensor()  # è¯»å–è§†é¢‘\n    .save_video_tensor_to_file('60fps.mp4', 60)  # å°†å…¶ä¿å­˜ä¸º60fpsçš„è§†é¢‘\n)",
        "type": "code",
        "location": "/code/jina_demo/video/8.3 å¼ é‡è½¬å­˜ä¸ºè§†é¢‘.py:1-8"
    },
    "95": {
        "file_id": 20,
        "content": "This code utilizes the `save_video_tensor_to_file` function from the `Document` class in the `docarray` library to save a video tensor to a file. It first loads the URI of the video 'cat.mp4' into a video tensor, and then saves it as '60fps.mp4', converting it to 60 frames per second.",
        "type": "comment"
    },
    "96": {
        "file_id": 21,
        "content": "/code/requirements.txt",
        "type": "filepath"
    },
    "97": {
        "file_id": 21,
        "content": "This code snippet is a list of dependencies required for a Python project. It includes libraries such as Jina, WebVTT-Py, FFmpeg-Python, Torchvision, and others for tasks like text processing, image manipulation, data handling, and more.",
        "type": "summary"
    },
    "98": {
        "file_id": 21,
        "content": "jina==3.4.2\nwebvtt-py==0.4.6\nffmpeg-python==0.2.0\ntorchvision==0.12.0\nftfy==6.1.1\nregex==2022.4.24\ntqdm==4.64.0\ntransformers==4.9.1\nscipy==1.8.0\npillow==9.1.0\ntornado==6.1\nprotobuf==3.20\nlibrosa==0.9.1\nstreamlit==1.12.0",
        "type": "code",
        "location": "/code/requirements.txt:1-14"
    },
    "99": {
        "file_id": 21,
        "content": "This code snippet is a list of dependencies required for a Python project. It includes libraries such as Jina, WebVTT-Py, FFmpeg-Python, Torchvision, and others for tasks like text processing, image manipulation, data handling, and more.",
        "type": "comment"
    }
}