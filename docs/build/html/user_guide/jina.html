
<!DOCTYPE html>

<html lang="zh">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Jina &#8212; VCEDé¡¹ç›®æ–‡æ¡£</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="ç´¢å¼•" href="../genindex.html" />
    <link rel="search" title="æœç´¢" href="../search.html" />
    <link rel="next" title="é¡¹ç›®å‰ç«¯ä»‹ç»" href="Frontend/index.html" />
    <link rel="prev" title="User Guide" href="index.html" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="zh">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    <p class="title logo__title">VCEDé¡¹ç›®æ–‡æ¡£</p>
  
</a>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="index.html">
  User Guide
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/datawhalechina/vced" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Jina
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="Frontend/index.html">
   é¡¹ç›®å‰ç«¯ä»‹ç»
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Frontend/Streamlit.html">
     Streamlit
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Frontend/Frontend.html">
     VCED UI æ„å»º
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="Backend/index.html">
   é¡¹ç›®åç«¯ç®€ä»‹
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Backend/VideoLoader.html">
     VideoLoader
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Backend/CustomClipText.html">
     CustomClipText
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Backend/CustomClipImage.html">
     CustomClipImage
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Backend/SimpleIndexer.html">
     SimpleIndexer
    </a>
   </li>
  </ul>
 </li>
</ul>

  </div>
</nav>
  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
      
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id1">
   1. Jina æ˜¯ä»€ä¹ˆ
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   2. Jina çš„ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µ
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id3">
   3. å®‰è£… Jina
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id4">
   4. å¿«é€Ÿä¸Šæ‰‹
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#docarray">
   5. DocArray
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     5.1 å®šä¹‰
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     5.2 ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µ
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id7">
     5.3 å®‰è£…
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id8">
   6. æ–‡æœ¬å¤„ç†
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id9">
     6.1 åˆ›å»ºæ–‡æœ¬
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id10">
     6.2 åˆ‡å‰²æ–‡æœ¬
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#textndarray">
     6.3 textã€ndarray äº’è½¬
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#demo">
     6.4 Demo: ç®€å•çš„æ–‡æœ¬åŒ¹é…
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id11">
   7. å›¾åƒå¤„ç†
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tensor">
     7.1 è¯»å–å›¾ç‰‡å¹¶è½¬ä¸º tensor
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id12">
     7.2 è¿›è¡Œç®€å•çš„å›¾åƒå¤„ç†
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id13">
     7.3 è¯»å–å›¾åƒé›†
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id14">
     7.4 åˆ‡å‰²å¤§å‹å›¾åƒ
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id15">
   8. è§†é¢‘å¤„ç†
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id16">
     8.1 è§†é¢‘å¯¼å…¥å’Œåˆ‡åˆ†
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id17">
     8.2 å…³é”®å¸§æå–
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id18">
     8.3 å¼ é‡è½¬å­˜ä¸ºè§†é¢‘
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#executor">
   9. Executor
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#flow">
   10. Flow
  </a>
 </li>
</ul>

</nav>
    </div>
    
    <div class="toc-item">
      
    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                
  <section id="jina">
<h1>Jina<a class="headerlink" href="#jina" title="Permalink to this heading">#</a></h1>
<section id="id1">
<h2>1. Jina æ˜¯ä»€ä¹ˆ<a class="headerlink" href="#id1" title="Permalink to this heading">#</a></h2>
<p>ç®€å•æ¥è¯´ Jina å¯ä»¥å¸®åŠ©ä½ å¿«é€ŸæŠŠéç»“æ„åŒ–æ•°æ®ä¾‹å¦‚å›¾åƒï¼Œæ–‡æ¡£è§†é¢‘ç­‰ï¼Œè½¬æ¢ä¸ºå‘é‡æ•°æ®ã€‚å¹¶ç»“åˆ Jina çš„å…¶ä»–ç»„ä»¶è®¾è®¡ï¼Œå¸®åŠ©ä½ å¿«é€Ÿçš„æŠŠå‘é‡æ•°æ®åˆ©ç”¨èµ·æ¥ï¼Œå®ç°å¤šæ¨¡æ€çš„æ•°æ®æœç´¢ã€‚</p>
</section>
<section id="id2">
<h2>2. Jina çš„ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µ<a class="headerlink" href="#id2" title="Permalink to this heading">#</a></h2>
<p>Documentã€Executor å’Œ Flow æ˜¯ Jina çš„ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µã€‚</p>
<ul class="simple">
<li><p>Document æ˜¯åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯å¯ä»¥å°†éç»“æ„åŒ–æ•°æ®ä¸å‘é‡æ•°æ®ä¹‹é—´è¿›è¡Œæ˜ å°„ï¼Œå…·ä½“ç»†èŠ‚ä¼šåœ¨ DocArray ä¸€ç« ä¸­è¯¦ç»†é˜è¿°ã€‚</p></li>
<li><p>Executor å¯ä»¥ç†è§£ä¸ºä¸€ä¸ª Python ç±»ï¼Œä»£è¡¨äº† Jina ä¸­çš„ç®—æ³•å•å…ƒï¼Œæ¯”å¦‚æŠŠå›¾åƒç¼–ç æˆå‘é‡ã€å¯¹ç»“æœè¿›è¡Œæ’åºç­‰ç®—æ³•ç­‰éƒ½å¯ä»¥ç”¨ Executor æ¥è¡¨è¿°ã€‚</p></li>
<li><p>Flow å¯ä»¥å°†å¤šä¸ª Executor è¿æ¥èµ·æ¥ï¼Œå°†ä»–ä»¬åè°ƒæˆæµæ°´çº¿(pipeline)ã€‚</p></li>
</ul>
</section>
<section id="id3">
<h2>3. å®‰è£… Jina<a class="headerlink" href="#id3" title="Permalink to this heading">#</a></h2>
<p><strong>å®‰è£… Jina éœ€è¦ Python3.7 åŠä»¥ä¸Šç‰ˆæœ¬</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># via pypi</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">jina</span>

<span class="c1"># via conda</span>
<span class="n">conda</span> <span class="n">install</span> <span class="n">jina</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span>

<span class="c1"># via docker</span>
<span class="n">docker</span> <span class="n">pull</span> <span class="n">jinaai</span><span class="o">/</span><span class="n">jina</span><span class="p">:</span><span class="n">latest</span>
</pre></div>
</div>
</section>
<section id="id4">
<h2>4. å¿«é€Ÿä¸Šæ‰‹<a class="headerlink" href="#id4" title="Permalink to this heading">#</a></h2>
<p>æˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„ä¾‹å­æ¥ç†è§£ Jina çš„åŸºæœ¬æ¦‚å¿µï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ª YAML æ–‡ä»¶ï¼Œç”¨äºæŒ‡å®š Flow æŒ‰ç…§ä»€ä¹ˆé€»è¾‘æ‰§è¡Œ</p>
<div class="highlight-YAML notranslate"><div class="highlight"><pre><span></span><span class="c1"># toy.yml</span><span class="w"></span>
<span class="nt">jtype</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Flow</span><span class="w"></span>
<span class="nt">with</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">51000</span><span class="w"></span>
<span class="w">  </span><span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">grpc</span><span class="w"></span>
<span class="nt">executors</span><span class="p">:</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">FooExecutor</span><span class="w"></span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">foo</span><span class="w"></span>
<span class="w">  </span><span class="nt">py_modules</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test.py</span><span class="w"></span>
<span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">uses</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">BarExecutor</span><span class="w"></span>
<span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">bar</span><span class="w"></span>
<span class="w">  </span><span class="nt">py_modules</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">test.py</span><span class="w"></span>
</pre></div>
</div>
<p>å®šä¹‰å¥½ YAML æ–‡ä»¶åæˆ‘ä»¬æ¥å®šä¹‰å…·ä½“çš„æ‰§è¡Œé€»è¾‘</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># åˆ›å»º test.py æ–‡ä»¶ä¸ YAML æ–‡ä»¶åœ¨åŒä¸€ç›®å½•ä¸‹</span>
<span class="c1"># å¯¼å…¥ documentã€executor å’Œ flow ä»¥åŠ requests è£…é¥°å™¨</span>
<span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">DocumentArray</span><span class="p">,</span> <span class="n">Executor</span><span class="p">,</span> <span class="n">requests</span><span class="p">,</span> <span class="n">Document</span>

<span class="c1"># ç¼–å†™ FooExecutor ä¸ BarExecutor ç±»ï¼Œç±»ä¸­å®šä¹‰äº†å‡½æ•° foo å’Œ bar</span>
<span class="c1"># è¯¥å‡½æ•°ä»ç½‘ç»œè¯·æ±‚æ¥æ”¶ DocumentArray (å…ˆæš‚æ—¶ä¸éœ€è¦ç†è§£å®ƒæ˜¯ä»€ä¹ˆ)ï¼Œå¹¶åœ¨å…¶å†…å®¹åé¢é™„åŠ  &quot;foo was here&quot; ä¸ &quot;bar was here&quot;</span>
<span class="k">class</span> <span class="nc">FooExecutor</span><span class="p">(</span><span class="n">Executor</span><span class="p">):</span>
    <span class="nd">@requests</span> <span class="c1"># ç”¨äºæŒ‡å®šè·¯ç”±ï¼Œç±»ä¼¼ç½‘é¡µè®¿é—® /index å’Œ /login ä¼šè¢«è·¯ç”±åˆ°ä¸åŒçš„æ–¹æ³•ä¸Šæ˜¯ç”¨æ ·çš„æ¦‚å¿µï¼Œå…³äº request ä¸‹é¢ä¼šå†è¿›è¡Œè¯¦ç»†ä»‹ç»</span>
    <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">docs</span><span class="p">:</span> <span class="n">DocumentArray</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">docs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;foo was here&#39;</span><span class="p">))</span>


<span class="k">class</span> <span class="nc">BarExecutor</span><span class="p">(</span><span class="n">Executor</span><span class="p">):</span>
    <span class="nd">@requests</span>
    <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">docs</span><span class="p">:</span> <span class="n">DocumentArray</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">docs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;bar was here&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨ grpc æœåŠ¡ï¼š</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>jina flow --uses toy.yml
</pre></div>
</div>
<p>å¯åŠ¨æˆåŠŸåï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹è¾“å‡ºç»“æœ</p>
<p><img alt="flow_service" src="../_images/flow_service.png" /></p>
<p>ç„¶ååˆ›å»º <code class="docutils literal notranslate"><span class="pre">client.py</span></code> æ–‡ä»¶ï¼Œæ‰§è¡Œ <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">client.py</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># ä» Jina ä¸­å¯¼å…¥è¿æ¥çš„å®¢æˆ·ç«¯ä¸ Document</span>
<span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Client</span><span class="p">,</span> <span class="n">Document</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;grpc://0.0.0.0:51000&#39;</span><span class="p">)</span>  <span class="c1"># å¦‚æœè¿è¡Œæç¤ºå¤±è´¥ï¼Œå¯å°è¯•ä½¿ç”¨localhost</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="n">Document</span><span class="p">())</span> <span class="c1"># å°†ä¸€ä¸ªç©ºçš„ Document ä¼ åˆ°æœåŠ¡ç«¯æ‰§è¡Œ</span>
<span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">texts</span><span class="p">)</span> 
</pre></div>
</div>
<p>æœ€ç»ˆä¼šæ‰“å°å‡ºä¸€ä¸ª <code class="docutils literal notranslate"><span class="pre">&quot;['',</span> <span class="pre">'foo</span> <span class="pre">was</span> <span class="pre">here',</span> <span class="pre">'bar</span> <span class="pre">was</span> <span class="pre">here']&quot;</span></code> å­—ç¬¦ä¸²ã€‚</p>
</section>
<section id="docarray">
<h2>5. DocArray<a class="headerlink" href="#docarray" title="Permalink to this heading">#</a></h2>
<section id="id5">
<h3>5.1 å®šä¹‰<a class="headerlink" href="#id5" title="Permalink to this heading">#</a></h3>
<p>DocArray æ˜¯ç”¨äºå­˜å‚¨éç»“æ„åŒ–æ•°æ®çš„æ•°æ®ç»“æ„å·¥å…·åŒ…ï¼Œæ˜¯æœ¬æ¬¡æˆ‘ä»¬åšè·¨æ¨¡æ€åº”ç”¨çš„åŸºç¡€ã€‚é€šè¿‡è¿™ä¸ªå°è€Œç²¾çš„å…¥å£ï¼Œèƒ½å‹å¥½åœ°å¸¦ä½ èµ°è¿›å¤šæ¨¡æ€ã€è·¨æ¨¡æ€çš„ä¸–ç•Œã€‚</p>
<p>DocArray çš„äº®ç‚¹åœ¨äº Hierarchy + Nestedã€‚DocArray æœ‰ä¸åŒçš„å±‚çº§ç»“æ„ï¼Œåˆ†å±‚å­˜å‚¨ï¼Œç¬¬ä¸€å±‚å¯ä»¥æ˜¯ä¸€ä¸ªæ•´ä½“çš„è§†é¢‘ï¼Œç¬¬äºŒå±‚æ˜¯è¯¥è§†é¢‘çš„ä¸åŒé•œå¤´ï¼Œç¬¬ä¸‰å±‚å¯ä»¥æ˜¯é•œå¤´çš„æŸä¸€å¸§ã€‚ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–æ¨¡æ€ï¼Œæ¯”å¦‚ç¬¬å››å±‚å­˜å‚¨å°è¯æ®µè½ï¼Œç¬¬äº”å±‚å­˜å‚¨ ..... æ—¢å¯ä»¥é€šè¿‡æŸä¸ªç”»é¢çš„æè¿°æœç´¢ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å°è¯çš„æ„æ€å»æœç´¢ï¼Œè¿™æ ·æœç´¢çš„é¢—ç²’åº¦ï¼Œç»“æ„çš„å¤šæ ·æ€§å’Œç»“æœçš„ä¸°å¯Œåº¦ï¼Œéƒ½æ¯”ä¼ ç»Ÿæ–‡æœ¬æ£€ç´¢å¥½å¾ˆå¤šã€‚</p>
<p>æ­¤å¤–ï¼ŒDocArray çš„è®¾è®¡å¯¹äº Python ç”¨æˆ·æ¥è¯´éå¸¸ç›´è§‚ï¼Œä¸éœ€è¦å­¦ä¹ æ–°çš„è¯­æ³•ã€‚å®ƒèåˆäº† Jsonã€Pandasã€Numpyã€Protobuf çš„ä¼˜ç‚¹ï¼Œæ›´é€‚ç”¨äºæ•°æ®ç§‘å­¦å®¶å’Œæ·±åº¦å­¦ä¹ å·¥ç¨‹å¸ˆã€‚</p>
</section>
<section id="id6">
<h3>5.2 ä¸‰ä¸ªåŸºæœ¬æ¦‚å¿µ<a class="headerlink" href="#id6" title="Permalink to this heading">#</a></h3>
<p>DocArray ç”±ä¸‰ä¸ªç®€å•çš„æ¦‚å¿µç»„æˆï¼š</p>
<ul class="simple">
<li><p>Documentï¼šä¸€ç§è¡¨ç¤ºåµŒå¥—éç»“æ„åŒ–æ•°æ®çš„æ•°æ®ç»“æ„ï¼Œæ˜¯ DocArray çš„åŸºæœ¬æ•°æ®ç±»å‹ã€‚æ— è®ºæ˜¯å¤„ç†æ–‡æœ¬ã€å›¾åƒã€è§†é¢‘ã€éŸ³é¢‘ã€3Dã€è¡¨æ ¼ æˆ–å®ƒä»¬çš„åµŒå¥—æˆ–ç»„åˆï¼Œéƒ½å¯ä»¥ç”¨ Document æ¥è¡¨ç¤ºï¼Œä»è€Œä½¿å¾—å„ç±»æ•°æ®çš„ç»“æ„éƒ½éå¸¸è§„æ•´ï¼Œæ–¹ä¾¿åç»­å¤„ç†</p></li>
<li><p>DocumentArrayï¼šç”¨äºé«˜æ•ˆè®¿é—®ã€å¤„ç†å’Œç†è§£å¤šä¸ªæ–‡æ¡£çš„å®¹å™¨ï¼Œå¯ä»¥ä¿å­˜å¤šä¸ª Document çš„åˆ—è¡¨</p></li>
<li><p>Dataclassï¼šç”¨äºç›´è§‚è¡¨ç¤ºå¤šæ¨¡å¼æ•°æ®çš„é«˜çº§API</p></li>
</ul>
</section>
<section id="id7">
<h3>5.3 å®‰è£…<a class="headerlink" href="#id7" title="Permalink to this heading">#</a></h3>
<p>3.x ç‰ˆæœ¬çš„ Jina å·²ç»åŒ…å«äº† DocArrayï¼Œå¦‚æœä½ ç”¨çš„æ˜¯ 3.x çš„ Jinaï¼Œå¯ä»¥è·³è¿‡æ­¤æ­¥éª¤ã€‚å¦‚æœä½ ä¸æ¸…æ¥šè‡ªå·±å®‰è£…çš„ç‰ˆæœ¬å·ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œé‡Œè¾“å…¥<code class="docutils literal notranslate"><span class="pre">jina</span> <span class="pre">-vf</span></code>æ¥æŸ¥çœ‹ Jinaç‰ˆæœ¬ã€‚</p>
<p>ç”±äºæœ¬é¡¹ç›®æ¶‰åŠçš„æ˜¯è§†é¢‘æœç´¢å‰ªè¾‘ï¼Œæ‰€ä»¥è¿™é‡Œé‡ç‚¹ä»‹ç»<strong>æ–‡æœ¬ã€å›¾åƒå’Œè§†é¢‘</strong>åœ¨ Jina ä¸­æ˜¯å¦‚ä½•å¤„ç†çš„ã€‚</p>
</section>
</section>
<section id="id8">
<h2>6. æ–‡æœ¬å¤„ç†<a class="headerlink" href="#id8" title="Permalink to this heading">#</a></h2>
<section id="id9">
<h3>6.1 åˆ›å»ºæ–‡æœ¬<a class="headerlink" href="#id9" title="Permalink to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Document</span>  <span class="c1"># å¯¼åŒ…</span>

<span class="c1"># åˆ›å»ºç®€å•çš„æ–‡æœ¬æ•°æ®</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;hello, world.&#39;</span><span class="p">)</span> 
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>  <span class="c1"># é€šè¿‡textè·å–æ–‡æœ¬æ•°æ®</span>
<span class="c1"># å¦‚æœæ–‡æœ¬æ•°æ®å¾ˆå¤§ï¼Œæˆ–è€…è‡ªURIï¼Œå¯ä»¥å…ˆå®šä¹‰URIï¼Œç„¶åå°†æ–‡æœ¬åŠ è½½åˆ°æ–‡æ¡£ä¸­</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="s1">&#39;https://www.w3.org/History/19921103-hypertext/hypertext/README.html&#39;</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">load_uri_to_text</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
<span class="c1"># æ”¯æŒå¤šè¯­è¨€</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;ğŸ‘‹	à¤¨à¤®à¤¸à¥à¤¤à¥‡ à¤¦à¥à¤¨à¤¿à¤¯à¤¾!	ä½ å¥½ä¸–ç•Œï¼ã“ã‚“ã«ã¡ã¯ä¸–ç•Œï¼	ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ Ğ¼Ğ¸Ñ€!&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id10">
<h3>6.2 åˆ‡å‰²æ–‡æœ¬<a class="headerlink" href="#id10" title="Permalink to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Document</span>  <span class="c1"># å¯¼åŒ…</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;ğŸ‘‹	à¤¨à¤®à¤¸à¥à¤¤à¥‡ à¤¦à¥à¤¨à¤¿à¤¯à¤¾!	ä½ å¥½ä¸–ç•Œï¼ã“ã‚“ã«ã¡ã¯ä¸–ç•Œï¼	ĞŸÑ€Ğ¸Ğ²ĞµÑ‚ Ğ¼Ğ¸Ñ€!&#39;</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">chunks</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;!&#39;</span><span class="p">)])</span>  <span class="c1"># æŒ‰&#39;!&#39;åˆ†å‰²</span>
<span class="n">d</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="textndarray">
<h3>6.3 textã€ndarray äº’è½¬<a class="headerlink" href="#textndarray" title="Permalink to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">DocumentArray</span><span class="p">,</span> <span class="n">Document</span>  <span class="c1"># å¯¼åŒ…</span>

<span class="c1"># DocumentArray ç›¸å½“äºä¸€ä¸ª listï¼Œç”¨äºå­˜æ”¾ Document</span>
<span class="n">da</span> <span class="o">=</span> <span class="n">DocumentArray</span><span class="p">([</span><span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;hello world&#39;</span><span class="p">),</span> 
                    <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;goodbye world&#39;</span><span class="p">),</span>
                    <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;hello goodbye&#39;</span><span class="p">)])</span>

<span class="n">vocab</span> <span class="o">=</span> <span class="n">da</span><span class="o">.</span><span class="n">get_vocabulary</span><span class="p">()</span>  <span class="c1"># è¾“å‡ºï¼š{&#39;hello&#39;: 2, &#39;world&#39;: 3, &#39;goodbye&#39;: 4}</span>

<span class="c1"># è½¬ä¸ºndarray</span>
<span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">da</span><span class="p">:</span>
    <span class="n">d</span><span class="o">.</span><span class="n">convert_text_to_tensor</span><span class="p">(</span><span class="n">vocab</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>  <span class="c1"># è½¬ä¸ºtensorå‘é‡ï¼Œmax_lengthä¸ºå‘é‡æœ€å¤§å€¼ï¼Œå¯ä¸è®¾ç½®</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">tensor</span><span class="p">)</span> 
   
 <span class="c1"># è¾“å‡ºç»“æœï¼š</span>
 <span class="p">[</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">3</span><span class="p">]</span> <span class="c1">#ç”¨è¿™ç§æ–¹å¼ç®€å•å°†å­—ç¬¦ä¸²è½¬ä¸ºå‘é‡</span>
 <span class="p">[</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">4</span> <span class="mi">3</span><span class="p">]</span>
 <span class="p">[</span><span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">2</span> <span class="mi">4</span><span class="p">]</span>
 
 <span class="c1"># ndarray</span>
 <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">da</span><span class="p">:</span>
    <span class="n">d</span><span class="o">.</span><span class="n">convert_tensor_to_text</span><span class="p">(</span><span class="n">vocab</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">text</span><span class="p">)</span>

<span class="c1"># è¾“å‡ºç»“æœï¼š</span>
<span class="n">hello</span> <span class="n">world</span>
<span class="n">goodbye</span> <span class="n">world</span>
<span class="n">hello</span> <span class="n">goodbye</span>
</pre></div>
</div>
</section>
<section id="demo">
<h3>6.4 Demo: ç®€å•çš„æ–‡æœ¬åŒ¹é…<a class="headerlink" href="#demo" title="Permalink to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Document</span><span class="p">,</span> <span class="n">DocumentArray</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="s1">&#39;https://www.gutenberg.org/files/1342/1342-0.txt&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">load_uri_to_text</span><span class="p">()</span> <span class="c1"># é“¾æ¥æ˜¯å‚²æ…¢ä¸åè§çš„ç”µå­ä¹¦ï¼Œæ­¤å¤„å°†ç”µå­ä¹¦å†…å®¹åŠ è½½åˆ° Document ä¸­</span>
<span class="n">da</span> <span class="o">=</span> <span class="n">DocumentArray</span><span class="p">(</span><span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="n">s</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">text</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">s</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span> <span class="c1"># æŒ‰ç…§æ¢è¡Œè¿›è¡Œåˆ†å‰²å­—ç¬¦ä¸²</span>
<span class="n">da</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="o">.</span><span class="n">embed_feature_hashing</span><span class="p">())</span>

<span class="n">q</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;she entered the room&#39;</span><span class="p">)</span> <span class="c1"># è¦åŒ¹é…çš„æ–‡æœ¬</span>
    <span class="o">.</span><span class="n">embed_feature_hashing</span><span class="p">()</span>  <span class="c1"># é€šè¿‡ hash æ–¹æ³•è¿›è¡Œç‰¹å¾ç¼–ç </span>
    <span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">da</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">exclude_self</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;jaccard&#39;</span><span class="p">,</span> <span class="n">use_scipy</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># æ‰¾åˆ°äº”ä¸ªä¸è¾“å…¥çš„æ–‡æœ¬æœ€ç›¸ä¼¼çš„å¥å­</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">q</span><span class="o">.</span><span class="n">matches</span><span class="p">[:,</span> <span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="s1">&#39;scores__jaccard&#39;</span><span class="p">)])</span> <span class="c1"># è¾“å‡ºå¯¹åº”çš„æ–‡æœ¬ä¸ jaccard ç›¸ä¼¼æ€§åˆ†æ•°</span>

<span class="c1"># è¾“å‡ºç»“æœï¼š</span>
<span class="p">[[</span><span class="s1">&#39;staircase, than she entered the breakfast-room, and congratulated&#39;</span><span class="p">,</span> 
<span class="s1">&#39;of the room.&#39;</span><span class="p">,</span> 
<span class="s1">&#39;She entered the room with an air more than usually ungracious,&#39;</span><span class="p">,</span> 
<span class="s1">&#39;entered the breakfast-room, where Mrs. Bennet was alone, than she&#39;</span><span class="p">,</span> 
<span class="s1">&#39;those in the room.&#39;</span><span class="p">],</span> 
<span class="p">[{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mf">0.6</span><span class="p">,</span> <span class="s1">&#39;ref_id&#39;</span><span class="p">:</span> <span class="s1">&#39;f47f7448709811ec960a1e008a366d49&#39;</span><span class="p">},</span> 
<span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mf">0.6666666666666666</span><span class="p">,</span> <span class="s1">&#39;ref_id&#39;</span><span class="p">:</span> <span class="s1">&#39;f47f7448709811ec960a1e008a366d49&#39;</span><span class="p">},</span> 
<span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mf">0.6666666666666666</span><span class="p">,</span> <span class="s1">&#39;ref_id&#39;</span><span class="p">:</span> <span class="s1">&#39;f47f7448709811ec960a1e008a366d49&#39;</span><span class="p">},</span> 
<span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mf">0.6666666666666666</span><span class="p">,</span> <span class="s1">&#39;ref_id&#39;</span><span class="p">:</span> <span class="s1">&#39;f47f7448709811ec960a1e008a366d49&#39;</span><span class="p">},</span> 
<span class="p">{</span><span class="s1">&#39;value&#39;</span><span class="p">:</span> <span class="mf">0.7142857142857143</span><span class="p">,</span> <span class="s1">&#39;ref_id&#39;</span><span class="p">:</span> <span class="s1">&#39;f47f7448709811ec960a1e008a366d49&#39;</span><span class="p">}]]</span>
</pre></div>
</div>
</section>
</section>
<section id="id11">
<h2>7. å›¾åƒå¤„ç†<a class="headerlink" href="#id11" title="Permalink to this heading">#</a></h2>
<p>å›¾åƒéƒ¨åˆ†éœ€è¦æå‰å®‰è£… Pillow å’Œ matplotlib åŒ…ã€‚é¦–å…ˆä»¥ä¸‹å›¾ä¸ºä¾‹ï¼Œè¿›è¡Œå›¾åƒéƒ¨åˆ†çš„ä»‹ç»ï¼š</p>
<p><img alt="apple" src="../_images/apple.png" /></p>
<section id="tensor">
<h3>7.1 è¯»å–å›¾ç‰‡å¹¶è½¬ä¸º tensor<a class="headerlink" href="#tensor" title="Permalink to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="s1">&#39;apple.png&#39;</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">load_uri_to_image_tensor</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">tensor</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">tensor</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id12">
<h3>7.2 è¿›è¡Œç®€å•çš„å›¾åƒå¤„ç†<a class="headerlink" href="#id12" title="Permalink to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Document</span>

<span class="n">d</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">Document</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="s1">&#39;apple.png&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">load_uri_to_image_tensor</span><span class="p">()</span>
    <span class="o">.</span><span class="n">set_image_tensor_shape</span><span class="p">(</span><span class="n">shape</span><span class="o">=</span><span class="p">(</span><span class="mi">224</span><span class="p">,</span> <span class="mi">224</span><span class="p">))</span>  <span class="c1"># è®¾ç½®shape</span>
    <span class="o">.</span><span class="n">set_image_tensor_normalization</span><span class="p">()</span>  <span class="c1"># æ ‡å‡†åŒ–</span>
    <span class="o">.</span><span class="n">set_image_tensor_channel_axis</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>  <span class="c1"># æ›´æ”¹é€šé“</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">tensor</span><span class="p">,</span> <span class="n">d</span><span class="o">.</span><span class="n">tensor</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># ä½ å¯ä»¥ä½¿ç”¨ save_image_tensor_to_file å°† tensor è½¬ä¸ºå›¾åƒã€‚å½“ç„¶ï¼Œå› ä¸ºåšäº†é¢„å¤„ç†ï¼Œå›¾ç‰‡è¿”å›æ—¶æŸå¤±äº†å¾ˆå¤šä¿¡æ¯ã€‚</span>
<span class="n">d</span><span class="o">.</span><span class="n">save_image_tensor_to_file</span><span class="p">(</span><span class="s1">&#39;apple-proc.png&#39;</span><span class="p">,</span> <span class="n">channel_axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>  <span class="c1"># å› ä¸ºå‰é¢è¿›è¡Œäº†é¢„å¤„ç†ï¼Œchannel_axisåº”è¯¥è®¾ä¸º0</span>
</pre></div>
</div>
</section>
<section id="id13">
<h3>7.3 è¯»å–å›¾åƒé›†<a class="headerlink" href="#id13" title="Permalink to this heading">#</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">DocumentArray</span>

<span class="n">da</span> <span class="o">=</span> <span class="n">DocumentArray</span><span class="o">.</span><span class="n">from_files</span><span class="p">(</span><span class="s1">&#39;Downloads/*.jpg&#39;</span><span class="p">)</span>  <span class="c1"># ä»Downloadsæ–‡ä»¶å¤¹ä¸­è¯»å–æ‰€æœ‰çš„jpgæ–‡ä»¶ï¼Œåœ¨è¿™é‡Œä½ åº”è¯¥æ ¹æ®è‡ªå·±çš„è·¯å¾„è®¾ç½®</span>
<span class="n">da</span><span class="o">.</span><span class="n">plot_image_sprites</span><span class="p">(</span><span class="s1">&#39;sprite-img.png&#39;</span><span class="p">)</span>  <span class="c1"># ä½¿ç”¨ plot_image_sprites ç»˜åˆ¶å›¾ç‰‡é›†å›¾ç‰‡ï¼Œå¦‚ä¸‹å›¾</span>
</pre></div>
</div>
<p><img alt="sprite-img" src="../_images/sprite-img.png" /></p>
</section>
<section id="id14">
<h3>7.4 åˆ‡å‰²å¤§å‹å›¾åƒ<a class="headerlink" href="#id14" title="Permalink to this heading">#</a></h3>
<p>ç”±äºå¤§å‹å¤æ‚å›¾åƒåŒ…å«äº†å¤ªå¤šçš„å…ƒç´ å’Œä¿¡æ¯ï¼Œéš¾ä»¥å®šä¹‰æœç´¢é—®é¢˜ï¼Œå› æ­¤å¾ˆéš¾å¯¹å…¶è¿›è¡Œæœç´¢ã€‚</p>
<p>ä»¥ä¸‹å›¾ä¸ºä¾‹ï¼Œå¦‚æœè¦å¯¹å›¾åƒè¿›è¡Œåˆ†æï¼Œé¦–å…ˆå°±éœ€è¦åˆ‡å‰²å›¾åƒã€‚è¿™é‡Œä½¿ç”¨æ»‘åŠ¨çª—å£æ¥åˆ‡å‰²å›¾åƒã€‚</p>
<p><img alt="complicated-image" src="../_images/complicated-image.jpeg" /></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Document</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="s1">&#39;complicated-image.jpeg&#39;</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">load_uri_to_image_tensor</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">tensor</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="n">d</span><span class="o">.</span><span class="n">convert_image_tensor_to_sliding_windows</span><span class="p">(</span><span class="n">window_shape</span><span class="o">=</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">))</span>  <span class="c1"># ä½¿ç”¨ 64*64 çš„æ»‘çª—åˆ‡å‰²åŸå›¾åƒï¼Œåˆ‡åˆ†å‡º 12*15=180 ä¸ªå›¾åƒå¼ é‡</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">tensor</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>

<span class="c1"># å¯ä»¥é€šè¿‡ as_chunks=Trueï¼Œä½¿å¾—ä¸Šè¿° 180 å¼ å›¾ç‰‡å¼ é‡æ·»åŠ åˆ° Document å—ä¸­ã€‚</span>
<span class="c1"># PSï¼šè¿è¡Œè¿™è¡Œä»£ç æ—¶ï¼Œéœ€è¦é‡æ–° load image tensorï¼Œå¦åˆ™ä¼šæŠ¥é”™ã€‚</span>
<span class="n">d</span><span class="o">.</span><span class="n">load_uri_to_image_tensor</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">convert_image_tensor_to_sliding_windows</span><span class="p">(</span><span class="n">window_shape</span><span class="o">=</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">),</span> <span class="n">as_chunks</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">chunks</span><span class="p">)</span>

<span class="n">d</span><span class="o">.</span><span class="n">chunks</span><span class="o">.</span><span class="n">plot_image_sprites</span><span class="p">(</span><span class="s1">&#39;simpsons-chunks.png&#39;</span><span class="p">)</span>  <span class="c1"># ä½¿ç”¨ plot_image_sprites å°†å„ä¸ª chunk ç»˜åˆ¶æˆå›¾ç‰‡é›†å›¾ç‰‡</span>
</pre></div>
</div>
<p><img alt="simpsons-chunks" src="../_images/simpsons-chunks.png" /></p>
<p>å› ä¸ºé‡‡ç”¨äº†æ»‘åŠ¨çª—å£æ‰«ææ•´ä¸ªå›¾åƒï¼Œä½¿ç”¨äº†é»˜è®¤çš„ strideï¼Œåˆ‡åˆ†åçš„å›¾åƒä¸ä¼šæœ‰é‡å ï¼Œæ‰€ä»¥é‡æ–°ç»˜åˆ¶å‡ºçš„å›¾å’ŒåŸå›¾å·®åˆ«ä¸å¤§ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½® strides å‚æ•°è¿›è¡Œè¿‡é‡‡æ ·ã€‚</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="o">.</span><span class="n">convert_image_tensor_to_sliding_windows</span><span class="p">(</span><span class="n">window_shape</span><span class="o">=</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">),</span> <span class="n">strides</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">as_chunks</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">chunks</span><span class="o">.</span><span class="n">plot_image_sprites</span><span class="p">(</span><span class="s1">&#39;simpsons-chunks-stride-10.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="id15">
<h2>8. è§†é¢‘å¤„ç†<a class="headerlink" href="#id15" title="Permalink to this heading">#</a></h2>
<section id="id16">
<h3>8.1 è§†é¢‘å¯¼å…¥å’Œåˆ‡åˆ†<a class="headerlink" href="#id16" title="Permalink to this heading">#</a></h3>
<p>è§†é¢‘éœ€è¦ä¾èµ– av åŒ…ã€‚é¦–å…ˆï¼Œä½¿ç”¨ <code class="docutils literal notranslate"><span class="pre">load_uri_to_video_tensor</span></code> å¯¼å…¥è§†é¢‘ã€‚</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Document</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="s1">&#39;toy.mp4&#39;</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">load_uri_to_video_tensor</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">tensor</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
<p>ç›¸è¾ƒäºå›¾åƒï¼Œè§†é¢‘æ˜¯ä¸€ä¸ª 4 ç»´æ•°ç»„ï¼Œç¬¬ä¸€ç»´è¡¨ç¤ºè§†é¢‘å¸§ id æˆ–æ˜¯è§†é¢‘çš„æ—¶é—´ï¼Œå‰©ä¸‹çš„ä¸‰ç»´åˆ™å’Œå›¾åƒä¸€è‡´ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾ d.tensor.shape=ï¼ˆ250ï¼Œ176ï¼Œ320ï¼Œ3ï¼‰ï¼Œè§†é¢‘æ€»é•¿åº¦ 10sã€‚è¯´æ˜è§†é¢‘å¤§å°ä¸º 176x320ï¼ŒåŒ…å« 250 å¸§ã€‚ä»è€Œæ¨æ–­å‡ºï¼Œå¸§é€Ÿç‡çº¦ä¸º 250/10=25fpsã€‚</p>
<p>å¯ä»¥ä½¿ç”¨ append æ–¹æ³•å°† Document æ”¾å…¥ chunk ä¸­ï¼š</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">d</span><span class="o">.</span><span class="n">tensor</span><span class="p">:</span>
    <span class="n">d</span><span class="o">.</span><span class="n">chunks</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Document</span><span class="p">(</span><span class="n">tensor</span><span class="o">=</span><span class="n">b</span><span class="p">))</span>

<span class="n">d</span><span class="o">.</span><span class="n">chunks</span><span class="o">.</span><span class="n">plot_image_sprites</span><span class="p">(</span><span class="s1">&#39;mov.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id17">
<h3>8.2 å…³é”®å¸§æå–<a class="headerlink" href="#id17" title="Permalink to this heading">#</a></h3>
<p>æˆ‘ä»¬ä»è§†é¢‘ä¸­æå–çš„å›¾åƒï¼Œå¾ˆå¤šéƒ½æ˜¯å†—ä½™çš„ï¼Œå¯ä»¥ä½¿ç”¨ <code class="docutils literal notranslate"><span class="pre">only_keyframes</span></code> è¿™ä¸ªå‚æ•°æ¥æå–å…³é”®å¸§ï¼š</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">docarray</span> <span class="kn">import</span> <span class="n">Document</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">Document</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="s1">&#39;toy.mp4&#39;</span><span class="p">)</span>
<span class="n">d</span><span class="o">.</span><span class="n">load_uri_to_video_tensor</span><span class="p">(</span><span class="n">only_keyframes</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">tensor</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id18">
<h3>8.3 å¼ é‡è½¬å­˜ä¸ºè§†é¢‘<a class="headerlink" href="#id18" title="Permalink to this heading">#</a></h3>
<p>å¯ä»¥ä½¿ç”¨ <code class="docutils literal notranslate"><span class="pre">save_video_tensor_to_file</span></code> è¿›è¡Œè§†é¢‘çš„ä¿å­˜</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">docarray</span> <span class="kn">import</span> <span class="n">Document</span>

<span class="n">d</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">Document</span><span class="p">(</span><span class="n">uri</span><span class="o">=</span><span class="s1">&#39;toy.mp4&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">load_uri_to_video_tensor</span><span class="p">()</span>  <span class="c1"># è¯»å–è§†é¢‘</span>
    <span class="o">.</span><span class="n">save_video_tensor_to_file</span><span class="p">(</span><span class="s1">&#39;60fps.mp4&#39;</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>  <span class="c1"># å°†å…¶ä¿å­˜ä¸º60fpsçš„è§†é¢‘</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="executor">
<h2>9. Executor<a class="headerlink" href="#executor" title="Permalink to this heading">#</a></h2>
<p>å‰é¢æˆ‘ä»¬æåˆ° Executor å¯ä»¥çœ‹ä½œä¸€ä¸ª python ç±»ï¼Œç”¨äºåœ¨ DocumentArray ä¸Šæ‰§è¡Œä¸€ç³»åˆ—ä»»åŠ¡ï¼Œå¦‚ç¬¬ 4 èŠ‚å¿«é€Ÿå¼€å§‹ä¸­æˆ‘ä»¬ä½¿ç”¨çš„æ–¹å¼ä¸€æ ·ï¼Œåœ¨ Executor ä¸­æˆ‘ä»¬å¯ä»¥å°†å…·ä½“çš„ä¸šåŠ¡é€»è¾‘è¿›è¡Œå°è£…å¾—åˆ°ä¸€ä¸ªæœåŠ¡ã€‚é™¤äº†ç›´æ¥æ–¹æ³•æ–¹å¼çš„è°ƒç”¨ï¼ŒExecutor æä¾›äº†è·¯ç”±çš„æ–¹å¼æ¥å¸®åŠ©ä½ ä¸éœ€è¦çŸ¥é“æœåŠ¡çš„å…·ä½“é€»è¾‘å°±å¯ä»¥è°ƒç”¨ï¼Œç±»ä¼¼äºå‰åç«¯åˆ†ç¦»çš„ç½‘ç«™ï¼Œå‰ç«¯é€šè¿‡ /index è¿™ç§å½¢å¼å¯¹åç«¯æ¥å£è¿›è¡Œè®¿é—®ï¼Œåç«¯ç¨‹åºæ”¶åˆ°è¯·æ±‚åå¯¹å…¶è¿›è¡Œè§£æï¼Œå¹¶æ ¹æ®è·¯ç”±è§„åˆ™å°†è¯¥è¯·æ±‚ä¼ é€’åˆ°æŒ‡å®šçš„æ–¹æ³•ä¸­æ‰§è¡Œã€‚åœ¨ Jina ä¸­æ˜¯é€šè¿‡ requests è£…é¥°å™¨å®ç°çš„ã€‚</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyExecutor</span><span class="p">(</span><span class="n">Executor</span><span class="p">):</span>
    <span class="nd">@requests</span>
    <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="nd">@requests</span><span class="p">(</span><span class="n">on</span><span class="o">=</span><span class="s1">&#39;/index&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>ä¸Šé¢çš„ä¾‹å­ä¸­å°±æ˜¯ä¸€ä¸ª request è£…é¥°å™¨çš„ä¾‹å­ï¼Œåœ¨ä¸€ä¸ª Executor çš„æ–¹æ³•ä¸­é»˜è®¤å¯ä»¥æŒ‡å®š <code class="docutils literal notranslate"><span class="pre">&#64;request(on=&quot;&quot;)</span></code> å‚æ•°ï¼Œå…¶ä¸­ on åé¢æ¥çš„å­—ç¬¦ä¸²å°±æ˜¯è¯¥æ–¹æ³•ç»‘å®šçš„è·¯ç”±ï¼Œè€Œä¸”å¯ä»¥çœ‹åˆ°åœ¨ foo æ–¹æ³•ä¸­å¹¶æ²¡æœ‰ on è¿™ä¸ªå‚æ•°ï¼Œæ­¤æ—¶å°±æ˜¯é»˜è®¤è·¯ç”±ï¼Œå½“è¯·æ±‚æ‰¾ä¸åˆ°å¯¹åº”çš„è·¯ç”±æ—¶ä¼šæ‰§è¡Œè¯¥æ–¹æ³•ã€‚</p>
</section>
<section id="flow">
<h2>10. Flow<a class="headerlink" href="#flow" title="Permalink to this heading">#</a></h2>
<p>ä¸€ä¸ª Flow å¯ä»¥ç†è§£ä¸ºä¸€ç³»åˆ—ä»»åŠ¡çš„åè°ƒå™¨ï¼Œé€šè¿‡ add æ–¹æ³•å¯ä»¥å°†å¤šä¸ª Executor ä¸²æˆä¸€å¥—æ‰§è¡Œé€»è¾‘ã€‚</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">jina</span> <span class="kn">import</span> <span class="n">Document</span><span class="p">,</span> <span class="n">DocumentArray</span><span class="p">,</span> <span class="n">Flow</span><span class="p">,</span> <span class="n">Executor</span><span class="p">,</span> <span class="n">requests</span>

<span class="k">class</span> <span class="nc">FooExecutor</span><span class="p">(</span><span class="n">Executor</span><span class="p">):</span>
    <span class="nd">@requests</span>
    <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">docs</span><span class="p">:</span> <span class="n">DocumentArray</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">docs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;foo was here&#39;</span><span class="p">))</span>


<span class="k">class</span> <span class="nc">BarExecutor</span><span class="p">(</span><span class="n">Executor</span><span class="p">):</span>
    <span class="nd">@requests</span>
    <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">docs</span><span class="p">:</span> <span class="n">DocumentArray</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">docs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Document</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;bar was here&#39;</span><span class="p">))</span>


<span class="n">f</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">Flow</span><span class="p">()</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">uses</span><span class="o">=</span><span class="n">FooExecutor</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;fooExecutor&#39;</span><span class="p">)</span>
    <span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">uses</span><span class="o">=</span><span class="n">BarExecutor</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;barExecutor&#39;</span><span class="p">)</span>
<span class="p">)</span>  <span class="c1"># åˆ›å»ºä¸€ä¸ªç©ºçš„ Flow</span>

<span class="k">with</span> <span class="n">f</span><span class="p">:</span>  <span class="c1"># å¯åŠ¨ Flow</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="n">on</span><span class="o">=</span><span class="s1">&#39;/&#39;</span>
    <span class="p">)</span> <span class="c1"># å‘ flow å‘é€ä¸€ä¸ªè¯·æ±‚</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">texts</span><span class="p">)</span>
</pre></div>
</div>
<p>é™¤äº†ä¸Šé¢æˆ‘ä»¬ç”¨ grpc è¿›è¡Œé€šä¿¡å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨çº¯ python çš„æ–¹å¼å¯¹ Flow è¿›è¡Œè°ƒç”¨ï¼Œä¾‹å¦‚åœ¨ä¸Šé¢æˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ª Executorï¼Œåˆ†åˆ«æ˜¯ FooExecutor ä¸ BarExecutorï¼Œå¹¶å°†è¿™ä¸¤ä¸ª Executor æ·»åŠ åˆ°äº†åŒä¸€ä¸ª Flow ä¸­ï¼Œé€šè¿‡ with æ–¹æ³•å¯åŠ¨ Flow å¹¶ç”¨ post æ–¹æ³•å¯¹ Flow å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œæœ€ç»ˆç¨‹åºä¼šè¿”å› <code class="docutils literal notranslate"><span class="pre">['foo</span> <span class="pre">was</span> <span class="pre">here',</span> <span class="pre">'bar</span> <span class="pre">was</span> <span class="pre">here']</span></code>ã€‚</p>
<p>ä½†æ˜¯é€šè¿‡ YAML æ–¹å¼å°† Executor å’Œ Flow åˆ†å¼€æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š</p>
<ul class="simple">
<li><p>æœåŠ¡å™¨ä¸Šçš„æ•°æ®æµæ˜¯éé˜»å¡å’Œå¼‚æ­¥çš„ï¼Œå½“ Executor å¤„äºç©ºé—²çŠ¶æ€æ—¶ï¼Œä¼šç«‹å³å¤„ç†æ–°çš„è¯·æ±‚ã€‚</p></li>
<li><p>å¿…è¦æ—¶ä¼šè‡ªåŠ¨æ·»åŠ è´Ÿè½½å¹³è¡¡ï¼Œä»¥ç¡®ä¿æœ€å¤§ååé‡ã€‚</p></li>
</ul>
<hr class="docutils" />
<p>å¯¹ Jina æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥ç»§ç»­å­¦ä¹  <span class="xref myst">jina demo</span> æˆ–è€…å» <a class="reference external" href="https://github.com/jina-ai">GitHub</a> ä¸ <a class="reference external" href="http://Jina.ai">Jina å®˜æ–¹æ–‡æ¡£</a> å»å­¦ä¹ æ›´å¤šä¸ Jina æœ‰å…³çš„çŸ¥è¯†ã€‚</p>
</section>
</section>


              </article>
              

              
              <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="index.html" title="ä¸Šä¸€é¡µ é¡µ">
      <i class="fas fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">ä¸Šä¸€é¡µ</p>
          <p class="prev-next-title">User Guide</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="Frontend/index.html" title="ä¸‹ä¸€é¡µ é¡µ">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">ä¸‹ä¸€é¡µ</p>
      <p class="prev-next-title">é¡¹ç›®å‰ç«¯ä»‹ç»</p>
  </div>
  <i class="fas fa-angle-right"></i>
  </a>
</div>
              </footer>
              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright 2022, VCED.<br>
</p>
  </div>
  
  <div class="footer-item">
    <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 5.0.2.<br>
</p>
  </div>
  
</div>
</footer>
  </body>
</html>